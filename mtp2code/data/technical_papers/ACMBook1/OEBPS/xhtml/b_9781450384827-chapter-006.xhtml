<?xml version="1.0" encoding="utf-8"?>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
<head>
<title>Chapter 06</title>
<link rel="stylesheet" href="../css/stylesheet.css" type="text/css"/>
</head>
<body epub:type="bodymatter">
<div epub:type="chapter" role="doc-chapter" aria-labelledby="ch6">
<h1 class="ct" id="ch6"><span class="cn" id="b_9781450384827-chapter-006">6</span><span class="ct1">EventMiner Framework</span></h1>
<p class="tx"><a id="page_71"/>In this chapter, we introduce EventMiner, an event mining framework with two distinct phases: hypothesis formation and hypothesis testing. Hypothesis formation requires the analysis of a good deal of event data to find strong candidate hypotheses. Based on an expert&#x2019;s knowledge and judgment, one or more hypotheses are then formed for further testing via relevant data analysis. We emphasize the framework&#x2019;s capabilities in fusing and analyzing temporal data to capture dynamic characteristics of complex systems. The framework is built on a high-level descriptive pattern formulation and pattern mining language. The language is composed of a well-defined set of operators that facilitate pattern analysis. Hypothesis formation is achieved by <i>data-driven</i> operators that bring hidden interesting patterns to the surface. Hypothesis testing is accomplished by <i>hypothesis-driven</i> operators that facilitate knowledge formulation and pattern query.</p>
<p class="txi">Data-driven operators are used to generate a basic model and derive a preliminary insight. Then, an analyst can seed a hypothesis and grow it step by step using hypothesis-driven operators. A good hypothesis is one that is not necessarily correct but one that opens new paths of investigation. This path cannot be fully perceived in advance in complex modeling tasks. So the analyst must be provided with appropriate operators to carry out new experiments based on the original hypothesis. </p>
<section epub:type="division">
<h2 class="h2"><span class="h2space" id="b_9781450384827-006_s_001">6.1</span>Data Models and Pattern Operators</h2>
<h3 class="h3afterh2"><span class="h3space" id="b_9781450384827-006_s_001_s_001">6.1.1</span>Time Model</h3>
<p class="tx">In EventMiner, we use semi-intervals to represent temporal facets of an event. We adopt a time point representation of time intervals [<a href="bib.xhtml#b_9781450384827_ref_183">Wu and Chen 2007</a>] in which intervals are represented with their start and end time point.</p>
<div class="split" id="b_9781450384827-006_stat_001">
<p class="statementcaption"><span class="statespace">Definition 6.1</span>Time domain: A time domain <span class="inline-math"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mi mathvariant="double-struck">T</m:mi></m:math></span> is a discrete, linearly ordered, countably infinite set of time instants <span class="inline-math" id="b_9781450384827-006_ineq_0001"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>t</m:mi><m:mo mathvariant="normal">&#x2208;</m:mo><m:mi mathvariant="double-struck">T</m:mi></m:mrow></m:math></span>. We assume that <span class="inline-math"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mi mathvariant="double-struck">T</m:mi></m:math></span> is bounded in the past, but not necessarily in the future.</p>
</div>
<div class="split" id="b_9781450384827-006_stat_002">
<p class="statementcaption"><a id="page_72"/><span class="statespace">Definition 6.2</span>Time interval: A time interval is a triple <span class="inline-math" id="b_9781450384827-006_ineq_0002"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo mathvariant="normal">[</m:mo><m:mo mathvariant="normal">&#x2202;</m:mo><m:mo mathvariant="normal">,</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo mathvariant="normal">,</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo mathvariant="normal">]</m:mo></m:mrow></m:math></span> where <span class="inline-math" id="b_9781450384827-006_ineq_0003"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo mathvariant="normal">&#x2202;</m:mo><m:mo mathvariant="normal">&#x2208;</m:mo><m:mi mathvariant="normal">&#x03A3;</m:mi></m:mrow></m:math></span> is a unique symbol and <span class="inline-math" id="b_9781450384827-006_ineq_0004"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo mathvariant="normal">,</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub></m:mrow><m:mo mathvariant="normal">&#x2208;</m:mo><m:mi mathvariant="double-struck">T</m:mi></m:mrow></m:math></span> and <span class="inline-math" id="b_9781450384827-006_ineq_0005"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo mathvariant="normal">&#x2264;</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub></m:mrow></m:math></span>. The finite set of all time intervals is noted <span class="inline-math" id="b_9781450384827-006_ineq_0006"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>I</m:mi><m:mo mathvariant="normal">=</m:mo><m:mrow><m:mo mathvariant="normal">{</m:mo><m:mrow><m:mo mathvariant="normal">[</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo mathvariant="normal">,</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo mathvariant="normal">]</m:mo></m:mrow><m:mo mathvariant="normal">|</m:mo><m:mrow><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo mathvariant="normal">&#x2264;</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub></m:mrow><m:mo mathvariant="normal">}</m:mo></m:mrow></m:mrow></m:math></span>. If <span class="inline-math" id="b_9781450384827-006_ineq_0007"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mo mathvariant="normal">[</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo mathvariant="normal">,</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo mathvariant="normal">]</m:mo></m:mrow><m:mo mathvariant="normal">&#x2229;</m:mo><m:mrow><m:mo mathvariant="normal">[</m:mo><m:mi>t</m:mi><m:msub><m:mo mathvariant="normal">&#x2032;</m:mo><m:mi>s</m:mi></m:msub><m:mo mathvariant="normal">,</m:mo><m:mi>t</m:mi><m:msub><m:mo mathvariant="normal">&#x2032;</m:mo><m:mi>e</m:mi></m:msub><m:mo mathvariant="normal">]</m:mo></m:mrow><m:mo mathvariant="normal">&#x2260;</m:mo><m:mtext mathvariant="italic">&#x00D8;</m:mtext></m:mrow></m:math></span>, intervals overlap.</p>
</div>
<div class="split" id="b_9781450384827-006_stat_003">
<p class="statementcaption"><span class="statespace">Definition 6.3</span>Semi-interval: A semi-interval is a tuple <span class="inline-math" id="b_9781450384827-006_ineq_0008"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo mathvariant="normal">[</m:mo><m:msup><m:mo mathvariant="normal">&#x2202;</m:mo><m:mrow><m:mo mathvariant="normal">+</m:mo><m:mo mathvariant="italic">&#x2063;</m:mo><m:mrow><m:mi/><m:mo mathvariant="normal">/</m:mo><m:mo mathvariant="normal">&#x2212;</m:mo></m:mrow></m:mrow></m:msup><m:mo mathvariant="normal">,</m:mo><m:mi>t</m:mi><m:mo mathvariant="normal">]</m:mo></m:mrow></m:math></span> where <span class="inline-math" id="b_9781450384827-006_ineq_0009"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo mathvariant="normal">&#x2202;</m:mo><m:mo mathvariant="normal">&#x2208;</m:mo><m:mi mathvariant="normal">&#x03A3;</m:mi></m:mrow></m:math></span> is a unique symbol and interval boundaries are represented with + and &#x2013; signs, where <span class="inline-math" id="b_9781450384827-006_ineq_0010"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msup><m:mo mathvariant="normal">&#x2202;</m:mo><m:mo mathvariant="normal">+</m:mo></m:msup></m:math></span> and <span class="inline-math" id="b_9781450384827-006_ineq_0011"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msup><m:mo mathvariant="normal">&#x2202;</m:mo><m:mo mathvariant="normal">&#x2212;</m:mo></m:msup></m:math></span> correspond to the start and the end of an interval, respectively. <span class="inline-math" id="b_9781450384827-006_ineq_0012"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo mathvariant="normal">[</m:mo><m:msup><m:mo mathvariant="normal">&#x2202;</m:mo><m:mo mathvariant="normal">+</m:mo></m:msup><m:mo mathvariant="normal">,</m:mo><m:mi>t</m:mi><m:mo mathvariant="normal">]</m:mo></m:mrow></m:math></span> represent a semi-interval where start time is available and <span class="inline-math" id="b_9781450384827-006_ineq_0013"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo mathvariant="normal">[</m:mo><m:msup><m:mo mathvariant="normal">&#x2202;</m:mo><m:mo mathvariant="normal">&#x2212;</m:mo></m:msup><m:mo mathvariant="normal">,</m:mo><m:mi>t</m:mi><m:mo mathvariant="normal">]</m:mo></m:mrow></m:math></span> represent a semi-interval where end time is available. Using the semi-interval definition, an interval can also be represented with its interval boundaries. Formally in a time interval <span class="inline-math" id="b_9781450384827-006_ineq_0014"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo mathvariant="normal">[</m:mo><m:mo mathvariant="normal">&#x2202;</m:mo><m:mo mathvariant="normal">,</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo mathvariant="normal">,</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo mathvariant="normal">]</m:mo></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0015"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo mathvariant="normal">&#x2202;</m:mo><m:mo mathvariant="normal">.</m:mo><m:mrow><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo mathvariant="normal">=</m:mo><m:msup><m:mo mathvariant="normal">&#x2202;</m:mo><m:mo mathvariant="normal">+</m:mo></m:msup></m:mrow></m:mrow></m:math></span>, and <span class="inline-math" id="b_9781450384827-006_ineq_0016"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo mathvariant="normal">&#x2202;</m:mo><m:mo mathvariant="normal">.</m:mo><m:mrow><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo mathvariant="normal">=</m:mo><m:msup><m:mo mathvariant="normal">&#x2202;</m:mo><m:mo mathvariant="normal">&#x2212;</m:mo></m:msup></m:mrow></m:mrow></m:math></span> and duration of the interval is <span class="inline-math" id="b_9781450384827-006_ineq_0017"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mi>d</m:mi><m:mo mathvariant="italic">&#x2062;</m:mo><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mo mathvariant="normal">&#x2202;</m:mo><m:mo mathvariant="normal">)</m:mo></m:mrow></m:mrow><m:mo mathvariant="normal">=</m:mo><m:mrow><m:msup><m:mo mathvariant="normal">&#x2202;</m:mo><m:mo mathvariant="normal">&#x2212;</m:mo></m:msup><m:mo mathvariant="normal">&#x2212;</m:mo><m:msup><m:mo mathvariant="normal">&#x2202;</m:mo><m:mo mathvariant="normal">+</m:mo></m:msup></m:mrow></m:mrow></m:math></span>. Also, an instantaneous time point can be considered as an interval with zero duration where <span class="inline-math" id="b_9781450384827-006_ineq_0018"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msup><m:mo mathvariant="normal">&#x2202;</m:mo><m:mo mathvariant="normal">&#x2212;</m:mo></m:msup><m:mo mathvariant="normal">=</m:mo><m:msup><m:mo mathvariant="normal">&#x2202;</m:mo><m:mo mathvariant="normal">+</m:mo></m:msup></m:mrow></m:math></span>.</p>
</div>
<p class="txi">As explained in Section <a href="b_9781450384827-chapter-003.xhtml#b_9781450384827-003_s_002">3.2</a> of Chapter <a href="b_9781450384827-chapter-003.xhtml">3</a>, various relationships between events can be understood in terms of (a) a sequential order between events, with an associated time lag, or else (b) in their concurrent occurrence (and the associated time span in which both events occur in parallel); here one is less interested in knowing which event started or ended earlier.</p>
<p class="txi">We define two temporal relationships to capture the above requirements. Then we use semi-interval operators to represent them. These relationships are as follows (Table <a href="#b_9781450384827-006_tab_001">6.1</a>):</p>
<figure class="split" id="b_9781450384827-006_tab_001">
<figcaption><p class="tabcaption"><span class="tabspace">Table 6.1:</span><b>Definition of <i>order</i> and <i>concurrency</i> relationships based on semi-interval representations</b></p></figcaption>
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_tab_001.jpg"/></p>
</figure>
<p class="numeric1"><span class="nspace">1.</span>Order. The sequential occurrence of time points or time intervals. In Freksa&#x2019;s formalism <i>younger</i>, <i>succeeds</i>, <i>survives</i>, and <i>born after death</i> relationships fall into this category.</p>
<p class="numeric2"><span class="nspace">2.</span><a id="page_73"/>Concurrency. A non-empty time period where two or more temporal events occur in no particular order. In Freksa&#x2019;s formalism <i>head to head</i>, <i>tail to tail</i>, and <i>contemporary</i> relationships fall into this category. </p>
<h3 class="h3"><span class="h3space" id="b_9781450384827-006_s_001_s_002">6.1.2</span>Event Model</h3>
<p class="tx">An event model serves as the basis of the pattern language in EventMiner. An event is either an instantaneous occurrence or spans over time. The former is called a point event and the latter is called an interval event. Sometimes, we have a semi-interval event where information about the event is not complete. For instance, we might know when an event starts but there is no information available about when it ends, or vice versa. The event model has a schema &#x03BE; that contains a set of properties a class of events must contain.</p>
<div class="split" id="b_9781450384827-006_stat_004">
<p class="statementcaption"><span class="statespace">Definition 6.4</span>Point event: A point event (<i>pE</i>) is an event that occurs at an instantaneous point in time. It is a tuple <span class="inline-math" id="b_9781450384827-006_ineq_0019"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>e</m:mi><m:mo mathvariant="normal">=</m:mo><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mi>v</m:mi><m:mo mathvariant="normal">,</m:mo><m:mrow><m:mo mathvariant="normal">[</m:mo><m:mi>E</m:mi><m:mo mathvariant="normal">,</m:mo><m:mi>t</m:mi><m:mo mathvariant="normal">]</m:mo></m:mrow><m:mo mathvariant="normal">)</m:mo></m:mrow></m:mrow></m:math></span> that consists of the name of its type, denoted by an upper-case letter (e.g., &#x201C;<i>E</i>&#x201D;), the time of occurrence <span class="inline-math" id="b_9781450384827-006_ineq_0020"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>t</m:mi><m:mo mathvariant="normal">&#x2208;</m:mo><m:mi mathvariant="double-struck">T</m:mi></m:mrow></m:math></span>, and a set of properties <span class="inline-math" id="b_9781450384827-006_ineq_0021"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>v</m:mi><m:mo mathvariant="normal">&#x2208;</m:mo><m:mi mathvariant="normal">&#x03BE;</m:mi></m:mrow></m:math></span>.</p>
</div>
<div class="split" id="b_9781450384827-006_stat_005">
<p class="statementcaption"><span class="statespace">Definition 6.5</span>Interval event: An interval event (<i>iE</i>) is an event that spans over time. It is a tuple <span class="inline-math" id="b_9781450384827-006_ineq_0022"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>e</m:mi><m:mo mathvariant="normal">=</m:mo><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mi>v</m:mi><m:mo mathvariant="normal">,</m:mo><m:mrow><m:mo mathvariant="normal">[</m:mo><m:mi>E</m:mi><m:mo mathvariant="normal">,</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo mathvariant="normal">,</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo mathvariant="normal">]</m:mo></m:mrow><m:mo mathvariant="normal">)</m:mo></m:mrow></m:mrow></m:math></span> that consists of the name of its type, start and end time <span class="inline-math" id="b_9781450384827-006_ineq_0023"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mo mathvariant="normal">[</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo mathvariant="normal">,</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo mathvariant="normal">]</m:mo></m:mrow><m:mo mathvariant="normal">&#x2208;</m:mo><m:mi>I</m:mi></m:mrow></m:math></span>, and a set of properties <span class="inline-math" id="b_9781450384827-006_ineq_0024"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>v</m:mi><m:mo mathvariant="normal">&#x2208;</m:mo><m:mi mathvariant="normal">&#x03BE;</m:mi></m:mrow></m:math></span>.</p>
</div>
<div class="split" id="b_9781450384827-006_stat_006">
<p class="statementcaption"><span class="statespace">Definition 6.6</span>Semi-interval event: A semi-interval event (<i>sE</i>) is a special case of interval event when one of the event boundaries is missing. It is a tuple <span class="inline-math" id="b_9781450384827-006_ineq_0025"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>e</m:mi><m:mo mathvariant="normal">=</m:mo><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mi>v</m:mi><m:mo mathvariant="normal">,</m:mo><m:mrow><m:mo mathvariant="normal">[</m:mo><m:msup><m:mi>E</m:mi><m:mrow><m:mo mathvariant="normal">+</m:mo><m:mo mathvariant="italic">&#x2063;</m:mo><m:mrow><m:mi/><m:mo mathvariant="normal">/</m:mo><m:mo mathvariant="normal">&#x2212;</m:mo></m:mrow></m:mrow></m:msup><m:mo mathvariant="normal">,</m:mo><m:mi>t</m:mi><m:mo mathvariant="normal">]</m:mo></m:mrow><m:mo mathvariant="normal">)</m:mo></m:mrow></m:mrow></m:math></span> that consists of the name of its type, start time or end time <span class="inline-math" id="b_9781450384827-006_ineq_0026"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>t</m:mi><m:mo mathvariant="normal">&#x2208;</m:mo><m:mi mathvariant="double-struck">T</m:mi></m:mrow></m:math></span>, and a set of properties <span class="inline-math" id="b_9781450384827-006_ineq_0027"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>v</m:mi><m:mo mathvariant="normal">&#x2208;</m:mo><m:mi mathvariant="normal">&#x03BE;</m:mi></m:mrow></m:math></span>.</p>
</div>
<p class="txi">These three categories of events and their graphical illustrations are shown in Table <a href="#b_9781450384827-006_tab_002">6.2</a>. Each event has a start time <i>t<sub>s</sub></i> or an end time <i>t<sub>e</sub></i>, or both. Events that have a complete time interval are represented as <span class="inline-math" id="b_9781450384827-006_ineq_0037"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo>(</m:mo><m:mi>E</m:mi><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:math></span>, while events with semi-interval are represented as <span class="inline-math" id="b_9781450384827-006_ineq_0038"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo>(</m:mo><m:msup><m:mi>E</m:mi><m:mo>+</m:mo></m:msup><m:mo>,</m:mo><m:mi>t</m:mi><m:mo>)</m:mo></m:mrow></m:math></span> when <i>t<sub>s</sub></i> is available and <span class="inline-math" id="b_9781450384827-006_ineq_0039"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo>(</m:mo><m:msup><m:mi>E</m:mi><m:mo>&#x2212;</m:mo></m:msup><m:mo>,</m:mo><m:mi>t</m:mi><m:mo>)</m:mo></m:mrow></m:math></span> when <i>t<sub>e</sub></i> is available. Point events are represented as (<i>E</i>, <i>t</i>). The reason that we differentiate between a semi-interval event and a point event goes back to the different semantics of events in <a id="page_74"/>disparate applications. A semi-interval event is an interval event when a partial knowledge or observation is available. For example, in a healthcare application, when a patient <i>experiences some symptoms</i> after taking a medication, the experience is an interval event with a start and end time. However, we might only know when the symptoms started. So, <i>experiencing some symptoms</i> is recorded as a semi-interval event with a start time associated with it. In the same context, <i>taking a pill</i> event is a point event. Although we can imagine that the duration of this event is several seconds, with respect to the basic time granularity of an application (e.g., 15 minutes or 1 hour), <i>taking a pill</i> can be considered as a point event.</p>
<figure class="split" id="b_9781450384827-006_tab_002">
<figcaption><p class="tabcaption"><span class="tabspace">Table 6.2:</span><b>Three event categories with their data model and graphical illustration</b></p></figcaption>
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_tab_002.jpg"/></p>
</figure>
<div class="split" id="b_9781450384827-006_stat_007">
<p class="statementcaption"><span class="statespace">Definition 6.7</span>Event stream: An event stream <span class="inline-math" id="b_9781450384827-006_ineq_0040"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mi>E</m:mi><m:mo mathvariant="italic">&#x2062;</m:mo><m:msup><m:mi>S</m:mi><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mi>i</m:mi><m:mo mathvariant="normal">)</m:mo></m:mrow></m:msup></m:mrow><m:mo mathvariant="normal">=</m:mo><m:mrow><m:mo mathvariant="normal">{</m:mo><m:msubsup><m:mi>e</m:mi><m:mn mathvariant="normal">1</m:mn><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mi>i</m:mi><m:mo mathvariant="normal">)</m:mo></m:mrow></m:msubsup><m:mo mathvariant="normal">,</m:mo><m:msubsup><m:mi>e</m:mi><m:mn mathvariant="normal">2</m:mn><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mi>i</m:mi><m:mo mathvariant="normal">)</m:mo></m:mrow></m:msubsup><m:mo mathvariant="normal">,</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo mathvariant="normal">,</m:mo><m:msubsup><m:mi>e</m:mi><m:mi>n</m:mi><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mi>i</m:mi><m:mo mathvariant="normal">)</m:mo></m:mrow></m:msubsup><m:mo mathvariant="normal">}</m:mo></m:mrow></m:mrow></m:math></span> is an ordered set of events where <span class="inline-math" id="b_9781450384827-006_ineq_0041"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>e</m:mi><m:mi>k</m:mi></m:msub><m:mo mathvariant="normal">&#x2208;</m:mo><m:mrow><m:mo mathvariant="normal">{</m:mo><m:mi>p</m:mi><m:mi>E</m:mi><m:mo mathvariant="normal">,</m:mo><m:mi>i</m:mi><m:mi>E</m:mi><m:mo mathvariant="normal">,</m:mo><m:mi>s</m:mi><m:mi>E</m:mi><m:mo mathvariant="normal">}</m:mo></m:mrow><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mn mathvariant="normal">1</m:mn><m:mo mathvariant="normal">&#x2264;</m:mo><m:mi>k</m:mi><m:mo mathvariant="normal">&#x2264;</m:mo><m:mi>n</m:mi><m:mo mathvariant="normal">)</m:mo></m:mrow></m:mrow></m:math></span>.</p>
</div>
<div class="split" id="b_9781450384827-006_stat_008">
<p class="statementcaption"><span class="statespace">Definition 6.8</span>Multi-event stream: A multi-event stream <span class="inline-math" id="b_9781450384827-006_ineq_0042"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mi>E</m:mi><m:mo mathvariant="italic">&#x2062;</m:mo><m:mi>S</m:mi></m:mrow><m:mo mathvariant="normal">=</m:mo><m:mrow><m:mo mathvariant="normal">{</m:mo><m:mrow><m:mi>E</m:mi><m:mo mathvariant="italic">&#x2062;</m:mo><m:msup><m:mi>S</m:mi><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mn mathvariant="normal">1</m:mn><m:mo mathvariant="normal">)</m:mo></m:mrow></m:msup></m:mrow><m:mo mathvariant="normal">,</m:mo><m:mrow><m:mi>E</m:mi><m:mo mathvariant="italic">&#x2062;</m:mo><m:msup><m:mi>S</m:mi><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mn mathvariant="normal">2</m:mn><m:mo mathvariant="normal">)</m:mo></m:mrow></m:msup></m:mrow><m:mo mathvariant="normal">,</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo mathvariant="normal">,</m:mo><m:mrow><m:mi>E</m:mi><m:mo mathvariant="italic">&#x2062;</m:mo><m:msup><m:mi>S</m:mi><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mrow><m:mo mathvariant="normal">|</m:mo><m:mi>I</m:mi><m:mo mathvariant="normal">|</m:mo></m:mrow><m:mo mathvariant="normal">)</m:mo></m:mrow></m:msup></m:mrow><m:mo mathvariant="normal">}</m:mo></m:mrow></m:mrow></m:math></span> is a finite set of event streams. Events from multiple event streams have a total order based on their start time so they can be overlapped. The alphabet of the multi-event stream is <span class="inline-math" id="b_9781450384827-006_ineq_0043"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x03A3;</m:mi><m:mo mathvariant="normal">=</m:mo><m:mrow><m:mo mathvariant="normal">{</m:mo><m:mrow><m:msup><m:mi mathvariant="normal">&#x03A3;</m:mi><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mn mathvariant="normal">1</m:mn><m:mo mathvariant="normal">)</m:mo></m:mrow></m:msup><m:mo mathvariant="normal">&#x222A;</m:mo><m:msup><m:mi mathvariant="normal">&#x03A3;</m:mi><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mn mathvariant="normal">2</m:mn><m:mo mathvariant="normal">)</m:mo></m:mrow></m:msup><m:mo mathvariant="normal">&#x222A;</m:mo><m:mpadded><m:mi mathvariant="normal">&#x2026;</m:mi></m:mpadded><m:mo mathvariant="normal">&#x222A;</m:mo><m:msup><m:mi mathvariant="normal">&#x03A3;</m:mi><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mrow><m:mo mathvariant="normal">|</m:mo><m:mi>I</m:mi><m:mo mathvariant="normal">|</m:mo></m:mrow><m:mo mathvariant="normal">)</m:mo></m:mrow></m:msup></m:mrow><m:mo mathvariant="normal">}</m:mo></m:mrow></m:mrow></m:math></span>.</p>
</div>
<p class="txi">Taking an example from Figure <a href="#b_9781450384827-006_fig_001">6.1</a>(a), <span class="inline-math" id="b_9781450384827-006_ineq_0046"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>E</m:mi><m:msup><m:mi>S</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msup></m:mrow></m:math></span> is an event stream with three disparate events. <i>E</i><sub>1</sub> is an interval event represented with <span class="inline-math" id="b_9781450384827-006_ineq_0047"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msubsup><m:mi>E</m:mi><m:mn>1</m:mn><m:mo>+</m:mo></m:msubsup></m:math></span> and <span class="inline-math" id="b_9781450384827-006_ineq_0048"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msubsup><m:mi>E</m:mi><m:mn>1</m:mn><m:mo>&#x2212;</m:mo></m:msubsup></m:math></span> for the start and end points, respectively; <i>E</i><sub>2</sub> is a point event where <span class="inline-math" id="b_9781450384827-006_ineq_0049"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msubsup><m:mi>E</m:mi><m:mn>2</m:mn><m:mo>+</m:mo></m:msubsup></m:math></span> = <span class="inline-math" id="b_9781450384827-006_ineq_0050"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msubsup><m:mi>E</m:mi><m:mn>2</m:mn><m:mo>&#x2212;</m:mo></m:msubsup></m:math></span>, and <i>E</i><sub>3</sub> is a semi-interval event represented with <span class="inline-math" id="b_9781450384827-006_ineq_0051"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msubsup><m:mi>E</m:mi><m:mn>3</m:mn><m:mo>+</m:mo></m:msubsup></m:math></span> for the start point. The events that belong to the same event stream cannot have overlaps. However, as shown in Figure <a href="#b_9781450384827-006_fig_001">6.1</a>(b), events from multiple event streams might be overlapping. This brings us to the next question: How to encode a multi-event stream with overlapping events so the order and temporal structures between events are preserved? As explained before, we seamlessly represent semi-interval and interval events using instantaneous time points in the interval boundaries. As done in <a href="bib.xhtml#b_9781450384827_ref_159">Shan Kam and Fu</a> [<a href="bib.xhtml#b_9781450384827_ref_159">2000</a>], the relationships between events&#x2019; start and end times can represent all of Allen&#x2019;s principles hence encompassing all relational ordering possibilities. Also, all of Allen&#x2019;s interval relationships can <a id="page_75"/>be described using Freksa&#x2019;s semi-interval relationships. A simple schema similar to that of <a href="bib.xhtml#b_9781450384827_ref_159">Shan Kam and Fu</a> [<a href="bib.xhtml#b_9781450384827_ref_159">2000</a>] can be used to encode a multi-event stream in a single linear data stream (Figure <a href="#b_9781450384827-006_fig_001">6.1</a>) without any ambiguity with respect to the temporal relationships between overlapping events. Event <i>E</i><sub>1</sub> ends before <i>E</i><sub>2</sub> occurs (&lt;), or event <span class="inline-math" id="b_9781450384827-006_ineq_0052"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>E</m:mi><m:msub><m:mo>&#x2032;</m:mo><m:mn>1</m:mn></m:msub></m:mrow></m:math></span> ends at the same time <i>E</i><sub>3</sub> starts (=).</p>
<figure class="split" id="b_9781450384827-006_fig_001">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_001.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.1</span>(a) Example encoding of a sequence of events. <span class="inline-math" id="b_9781450384827-006_ineq_0044"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msubsup><m:mi>E</m:mi><m:mn>1</m:mn><m:mo>+</m:mo></m:msubsup></m:math></span> and <span class="inline-math" id="b_9781450384827-006_ineq_0045"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msubsup><m:mi>E</m:mi><m:mn>1</m:mn><m:mo>&#x2212;</m:mo></m:msubsup></m:math></span> represent the start and end times of event <i>E</i><sub>1</sub>, respectively. Relational operators are used to indicate the ordered relations between start/end times. (b) Example of encoding a multi-event stream from two sequence of events.</p></figcaption>
</figure>
<h3 class="h3"><span class="h3space" id="b_9781450384827-006_s_001_s_003">6.1.3</span>Hypotheses-driven Operators</h3>
<p class="tx">We formally define our language by defining an algebraic operation for pattern formulation. These operators are aimed to be the basic operations, combinations of which can be used for arbitrarily sophisticated pattern formulation and pattern querying tasks on event streams. </p>
<p class="txi">To begin with, each event <span class="inline-math" id="b_9781450384827-006_ineq_0053"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>&#x2208;</m:mo><m:mrow><m:mrow><m:mi>p</m:mi><m:mi>E</m:mi></m:mrow><m:mo>&#x222A;</m:mo><m:mrow><m:mi>i</m:mi><m:mi>E</m:mi></m:mrow><m:mo>&#x222A;</m:mo><m:mrow><m:mi>s</m:mi><m:mi>E</m:mi></m:mrow></m:mrow></m:mrow></m:math></span> is a pattern expression. The semantics of base expressions for a point event, represented as <span class="inline-math" id="b_9781450384827-006_ineq_0054"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mrow><m:mo>(</m:mo><m:mi>t</m:mi><m:mo>)</m:mo></m:mrow></m:mrow></m:math></span>, is that at a given time point <i>t</i>, <span class="inline-math" id="b_9781450384827-006_ineq_0055"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mrow><m:mo>(</m:mo><m:mi>t</m:mi><m:mo>)</m:mo></m:mrow></m:mrow></m:math></span> is true if <i>E<sub>i</sub></i> occurs at time <i>t</i>. The semantics of base expressions for an interval event, represented as <span class="inline-math" id="b_9781450384827-006_ineq_0056"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:math></span>, is that at a given time interval <span class="inline-math" id="b_9781450384827-006_ineq_0057"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>T</m:mi><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0058"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:math></span> is true if <i>E<sub>i</sub></i> starts at <i>t<sub>s</sub></i> and ends at <i>t<sub>e</sub></i>. The semantics of base expressions for a semi-interval event, represented as <span class="inline-math" id="b_9781450384827-006_ineq_0059"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msubsup><m:mi>E</m:mi><m:mi>i</m:mi><m:mrow><m:mo>+</m:mo><m:mrow><m:mi/><m:mo>/</m:mo><m:mo>&#x2212;</m:mo></m:mrow></m:mrow></m:msubsup><m:mrow><m:mo>(</m:mo><m:mi>t</m:mi><m:mo>)</m:mo></m:mrow></m:mrow></m:math></span>, is that at a given time <i>t</i>, <span class="inline-math" id="b_9781450384827-006_ineq_0060"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msubsup><m:mi>E</m:mi><m:mi>i</m:mi><m:mo>+</m:mo></m:msubsup><m:mrow><m:mo>(</m:mo><m:mi>t</m:mi><m:mo>)</m:mo></m:mrow></m:mrow></m:math></span> is true if <i>E<sub>i</sub></i> starts at <i>t</i>, and <span class="inline-math" id="b_9781450384827-006_ineq_0061"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msubsup><m:mi>E</m:mi><m:mi>i</m:mi><m:mo>&#x2212;</m:mo></m:msubsup><m:mrow><m:mo>(</m:mo><m:mi>t</m:mi><m:mo>)</m:mo></m:mrow></m:mrow></m:math></span> is true if <i>E<sub>i</sub></i> ends at <i>t</i>.</p>
<p class="txi">Arbitrary patterns can be defined by applying operators on individual event types. So each pattern consists of a number of participating events. Suppose pattern &#x03C1; has <i>k</i> participating events <i>E<sub>i</sub></i>, where <span class="inline-math" id="b_9781450384827-006_ineq_0062"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mn>1</m:mn><m:mo>&#x2264;</m:mo><m:mi>i</m:mi><m:mo>&#x2264;</m:mo><m:mi>k</m:mi></m:mrow></m:math></span>, the size of the pattern is denoted by <span class="inline-math" id="b_9781450384827-006_ineq_0063"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mo>|</m:mo><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mo>|</m:mo></m:mrow><m:mo>=</m:mo><m:mi>k</m:mi></m:mrow></m:math></span>, start and end timestamps of the pattern are denoted by <span class="inline-math" id="b_9781450384827-006_ineq_0064"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mo>.</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub></m:mrow></m:math></span> and <span class="inline-math" id="b_9781450384827-006_ineq_0065"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mo>.</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub></m:mrow></m:math></span>, respectively, and defined as follows:</p>
<p class="display"><disp-formula id="b_9781450384827-006_eq_001">
<m:math display="block" xmlns:m="http://www.w3.org/1998/Math/MathML" alttext="" altimg="../images/b_9781450384827-006_eq_0001.png"><m:mtable columnspacing="5pt" displaystyle="true" rowspacing="0pt"><m:mtr><m:mtd columnalign="left"><m:msup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mo>+</m:mo></m:msup></m:mtd><m:mtd columnalign="left"><m:mrow><m:mo>=</m:mo><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mo>.</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo>=</m:mo><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mn>1</m:mn></m:msub><m:mo>.</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>E</m:mi><m:mn>2</m:mn></m:msub><m:mo>.</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo>,</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo>,</m:mo><m:msub><m:mi>E</m:mi><m:mi>k</m:mi></m:msub><m:mo>.</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:mtd></m:mtr><m:mtr><m:mtd columnalign="left"><m:msup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mo>&#x2212;</m:mo></m:msup></m:mtd><m:mtd columnalign="left"><m:mrow><m:mo>=</m:mo><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mo>.</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo>=</m:mo><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mn>1</m:mn></m:msub><m:mo>.</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>E</m:mi><m:mn>2</m:mn></m:msub><m:mo>.</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo>,</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo>,</m:mo><m:msub><m:mi>E</m:mi><m:mi>k</m:mi></m:msub><m:mo>.</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:mtd></m:mtr></m:mtable></m:math>
</disp-formula></p>
<p class="float">(6.1)</p>
<div class="split" id="b_9781450384827-006_stat_009">
<p class="statementcaption"><span class="statespace">Definition 6.9</span>Pattern: A pattern &#x03C1; is represented as <span class="inline-math" id="b_9781450384827-006_ineq_0066"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mo mathvariant="normal">=</m:mo><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mrow><m:mrow><m:mrow><m:msub><m:mi>X</m:mi><m:mn mathvariant="normal">1</m:mn></m:msub><m:msub><m:mo mathvariant="normal">&#x2299;</m:mo><m:mn mathvariant="normal">1</m:mn></m:msub><m:msub><m:mi>X</m:mi><m:mn mathvariant="normal">2</m:mn></m:msub></m:mrow><m:msub><m:mo mathvariant="normal">&#x2299;</m:mo><m:mn mathvariant="normal">2</m:mn></m:msub><m:mi mathvariant="normal">&#x2026;</m:mi></m:mrow><m:msub><m:mo mathvariant="normal">&#x2299;</m:mo><m:mrow><m:mi>k</m:mi><m:mo mathvariant="normal">&#x2212;</m:mo><m:mn mathvariant="normal">1</m:mn></m:mrow></m:msub><m:msub><m:mi>X</m:mi><m:mi>k</m:mi></m:msub></m:mrow><m:mo mathvariant="normal">)</m:mo></m:mrow></m:mrow></m:math></span> where <i>X<sub>i</sub></i> is an event, <span class="inline-math" id="b_9781450384827-006_ineq_0067"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>X</m:mi><m:mi>i</m:mi></m:msub><m:mo mathvariant="normal">&#x2208;</m:mo><m:mrow><m:mo mathvariant="normal">{</m:mo><m:mi>p</m:mi><m:mi>E</m:mi><m:mo mathvariant="normal">,</m:mo><m:mi>i</m:mi><m:mi>E</m:mi><m:mo mathvariant="normal">,</m:mo><m:mi>s</m:mi><m:mi>E</m:mi><m:mo mathvariant="normal">}</m:mo></m:mrow><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mn mathvariant="normal">1</m:mn><m:mo mathvariant="normal">&#x2264;</m:mo><m:mi>i</m:mi><m:mo mathvariant="normal">&#x2264;</m:mo><m:mi>k</m:mi><m:mo mathvariant="normal">)</m:mo></m:mrow></m:mrow></m:math></span>, and <span class="inline-math" id="b_9781450384827-006_ineq_0068"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mo mathvariant="normal">&#x2299;</m:mo><m:mi>i</m:mi></m:msub><m:mo mathvariant="normal">&#x2208;</m:mo><m:mrow><m:mo mathvariant="normal">{</m:mo><m:mo mathvariant="normal">;</m:mo><m:mo mathvariant="normal">,</m:mo><m:mo mathvariant="normal">;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mo mathvariant="italic">&#x2062;</m:mo><m:mi>t</m:mi></m:mrow></m:msub><m:mo mathvariant="normal">,</m:mo><m:mo mathvariant="normal">&#x22A5;&#x22A5;</m:mo><m:mo mathvariant="normal">,</m:mo><m:mo mathvariant="normal">|</m:mo><m:mo mathvariant="normal">}</m:mo></m:mrow><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mn mathvariant="normal">1</m:mn><m:mo mathvariant="normal">&#x2264;</m:mo><m:mi>i</m:mi><m:mo mathvariant="normal">&#x2264;</m:mo><m:mi>k</m:mi><m:mo mathvariant="normal">&#x2212;</m:mo><m:mn mathvariant="normal">1</m:mn><m:mo mathvariant="normal">)</m:mo></m:mrow></m:mrow></m:math></span> is a binary operation.</p>
</div>
<p class="txi">In case there are multiple occurrences of an <i>X<sub>i</sub></i> in a pattern, it is necessary to distinguish which two event boundaries (e.g., <span class="inline-math" id="b_9781450384827-006_ineq_0069"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msubsup><m:mi>X</m:mi><m:mi>i</m:mi><m:mo>+</m:mo></m:msubsup></m:math></span> and <span class="inline-math" id="b_9781450384827-006_ineq_0070"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msubsup><m:mi>X</m:mi><m:mi>i</m:mi><m:mo>&#x2212;</m:mo></m:msubsup></m:math></span>) represent the same <i>X<sub>i</sub></i> occurrence. However, we assume that each event type has only one occurrence in a pattern and <span class="inline-math" id="b_9781450384827-006_ineq_0071"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msubsup><m:mi>X</m:mi><m:mi>i</m:mi><m:mo>+</m:mo></m:msubsup></m:math></span> and <span class="inline-math" id="b_9781450384827-006_ineq_0072"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msubsup><m:mi>X</m:mi><m:mi>i</m:mi><m:mo>&#x2212;</m:mo></m:msubsup></m:math></span> are coming from the same occurrence of <i>X<sub>i</sub></i>. Our language supports a hierarchy of complex patterns by feeding the output of one operator as an input to another operator. So a pattern operator not only connects events but also connects a number of pattern expressions to form a new expression.</p>
<p class="txi">We now consider what it means to say a pattern <i>occurs</i> in an event stream. Intuitively, the event types of the pattern need to have corresponding events in the event <a id="page_76"/>stream, such that the event types are the same and the operations between events of the pattern are respected and satisfied. The semantics of pattern expressions, represented as <span class="inline-math" id="b_9781450384827-006_ineq_0073"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mrow><m:mo>(</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:math></span> or <span class="inline-math" id="b_9781450384827-006_ineq_0074"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mrow><m:mo>(</m:mo><m:mi>T</m:mi><m:mo>)</m:mo></m:mrow></m:mrow></m:math></span> at a given time interval <span class="inline-math" id="b_9781450384827-006_ineq_0075"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>T</m:mi><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:math></span>, is true if the pattern &#x03C1; has an occurrence in the time interval <i>T</i> (e.g., starts at <i>t<sub>s</sub></i> and ends at <i>t<sub>e</sub></i>). Figure <a href="#b_9781450384827-006_fig_002">6.2</a> shows an example of three event streams and different types of events in each stream. Pattern 1 indicates that <i>E</i><sub>2</sub> is followed by <i>E</i><sub>1</sub> in the first event stream. Pattern 2 indicates that <i>E</i><sub>1</sub> is followed by <span class="inline-math" id="b_9781450384827-006_ineq_0076"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>E</m:mi><m:msub><m:mo>&#x2032;</m:mo><m:mn>3</m:mn></m:msub></m:mrow></m:math></span> is followed by <span class="inline-math" id="b_9781450384827-006_ineq_0077"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>E</m:mi><m:mo>&#x2032;</m:mo><m:msub><m:mo>&#x2032;</m:mo><m:mn>2</m:mn></m:msub></m:mrow></m:math></span> across the three event streams. Frequency of a pattern is the number of occurrences of the pattern in an event stream. </p>
<p class="txi">As shown in Equation <a href="#b_9781450384827-006_eq_001">6.1</a>, a pattern has both a start and an end time. So, two order relationships can be defined on complete time intervals.</p>
<div class="split" id="b_9781450384827-006_stat_010">
<p class="statementcaption"><span class="statespace">Definition 6.10</span>Partial order: A partial order &#x227A; is defined as <span class="inline-math" id="b_9781450384827-006_ineq_0078"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo mathvariant="normal">&#x2200;</m:mo><m:mi>T</m:mi></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0079"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>T</m:mi><m:mo mathvariant="normal">&#x2032;</m:mo><m:mo mathvariant="normal">&#x2208;</m:mo><m:mi>I</m:mi></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0080"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>T</m:mi><m:mo mathvariant="normal">&#x227A;</m:mo><m:mi>T</m:mi><m:mo mathvariant="normal">&#x2032;</m:mo></m:mrow></m:math></span> iff <span class="inline-math" id="b_9781450384827-006_ineq_0081"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo mathvariant="normal">&lt;</m:mo><m:mi>t</m:mi><m:msub><m:mo mathvariant="normal">&#x2032;</m:mo><m:mi>s</m:mi></m:msub></m:mrow></m:math></span></p>
</div>
<div class="split" id="b_9781450384827-006_stat_011">
<p class="statementcaption"><span class="statespace">Definition 6.11</span>Total order: A total order relation &lt; is defined as <span class="inline-math" id="b_9781450384827-006_ineq_0082"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo mathvariant="normal">&#x2200;</m:mo><m:mi>T</m:mi></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0083"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>T</m:mi><m:mo mathvariant="normal">&#x2032;</m:mo><m:mo mathvariant="normal">&#x2208;</m:mo><m:mi>I</m:mi></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0084"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>T</m:mi><m:mo mathvariant="normal">&lt;</m:mo><m:mi>T</m:mi><m:mo mathvariant="normal">&#x2032;</m:mo></m:mrow></m:math></span> iff <span class="inline-math" id="b_9781450384827-006_ineq_0085"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo mathvariant="normal">&lt;</m:mo><m:mi>t</m:mi><m:msub><m:mo mathvariant="normal">&#x2032;</m:mo><m:mi>s</m:mi></m:msub><m:mo mathvariant="normal">&#x2228;</m:mo><m:mrow><m:mo mathvariant="normal">(</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo mathvariant="normal">=</m:mo><m:mi>t</m:mi><m:mpadded><m:msub><m:mo mathvariant="normal">&#x2032;</m:mo><m:mi>s</m:mi></m:msub></m:mpadded><m:mo mathvariant="normal">&#x2227;</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo mathvariant="normal">&lt;</m:mo><m:mi>t</m:mi><m:msub><m:mo mathvariant="normal">&#x2032;</m:mo><m:mi>e</m:mi></m:msub><m:mo mathvariant="normal">)</m:mo></m:mrow></m:mrow></m:math></span>.</p>
</div>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_001_s_003_s_001">6.1.3.1</span>Selection Operation (&#x1D6D2;.<i>P</i>)</h4>
<p class="tx">This operator filters pattern expression on predicate <i>P</i>, where <i>P</i> refers to event attributes contained in the pattern.</p>
<p class="txi"><span class="inline-math" id="b_9781450384827-006_ineq_0089"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mo>(</m:mo><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mo>.</m:mo><m:mi>P</m:mi><m:mo>)</m:mo></m:mrow><m:mo>&#x2261;</m:mo><m:mo>&#x2203;</m:mo><m:mi>T</m:mi><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:math></span> such that <span class="inline-math" id="b_9781450384827-006_ineq_0090"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mrow><m:mo>(</m:mo><m:mi>T</m:mi><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:mi>P</m:mi></m:mrow></m:math></span></p>
<p class="txi">For example, in Figure <a href="b_9781450384827-chapter-003.xhtml#b_9781450384827-003_fig_002">3.2</a> one might be interested in selecting exercise activities with high intensity. The corresponding pattern is represented as <i>Exercise</i>.<i>intensity</i> = <i>high</i>. Similarly, selecting mild asthma attack events is represented by pattern <i>Asthma</i>_<i>Attack</i>.<i>severity</i> = <i>mild</i>.</p>
<figure class="split" id="b_9781450384827-006_fig_002">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_002.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.2</span>Sample event streams <span class="inline-math" id="b_9781450384827-006_ineq_0086"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>E</m:mi><m:msup><m:mi>S</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msup></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0087"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>E</m:mi><m:msup><m:mi>S</m:mi><m:mrow><m:mo>(</m:mo><m:mn>2</m:mn><m:mo>)</m:mo></m:mrow></m:msup></m:mrow></m:math></span>, and <span class="inline-math" id="b_9781450384827-006_ineq_0088"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>E</m:mi><m:msup><m:mi>S</m:mi><m:mrow><m:mo>(</m:mo><m:mn>3</m:mn><m:mo>)</m:mo></m:mrow></m:msup></m:mrow></m:math></span> and their corresponding event types. Patterns 1 and 2 are conditional sequential patterns, each one with two occurrences.</p></figcaption>
</figure>
<h4 class="h4"><a id="page_77"/><span class="h4space" id="b_9781450384827-006_s_001_s_003_s_002">6.1.3.2</span>Sequence Operation (&#x1D6D2;<sub>1</sub>; &#x1D6D2;<sub>2</sub>)</h4>
<p class="tx">In general form, sequence operation (<span class="inline-math" id="b_9781450384827-006_ineq_0091"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mo>;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mo>;</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo>;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mi>k</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:math></span> detects if pattern expression &#x03C1;<sub>1</sub> is followed by pattern expression &#x03C1;<sub>2</sub>, and so on. The operator specifies a particular order in which the patterns of interest should occur. Formally it is defined as follows: </p>
<p class="display1"><disp-formula id="b_9781450384827-006_uneq_999">
<m:math display="block" xmlns:m="http://www.w3.org/1998/Math/MathML" alttext="" altimg="../images/b_9781450384827-006_eq_0002.png"><m:mrow><m:mrow><m:mrow><m:mo>(</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mo>;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mo>;</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo>;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mi>k</m:mi></m:msub><m:mo>)</m:mo></m:mrow><m:mo>&#x2261;</m:mo><m:mrow><m:mo>&#x2203;</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub></m:mrow><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow><m:mo>,</m:mo><m:mrow><m:mrow><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>=</m:mo><m:mrow><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow><m:mo>,</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi></m:mrow></m:mrow><m:mo>,</m:mo><m:mrow><m:msub><m:mi>T</m:mi><m:mi>k</m:mi></m:msub><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mi>k</m:mi><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mi>k</m:mi><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:mrow></m:mrow></m:math>
</disp-formula></p>
<p class="tx1">such that <span class="inline-math" id="b_9781450384827-006_ineq_0092"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>&lt;</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>&lt;</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo>&lt;</m:mo><m:msub><m:mi>T</m:mi><m:mi>k</m:mi></m:msub></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0093"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo>&#x2227;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mi>k</m:mi></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mi>k</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:mrow></m:math></span>.</p>
<p class="txi">Considering different temporal relations in Figure <a href="b_9781450384827-chapter-003.xhtml#b_9781450384827-003_fig_004">3.4</a>, the sequence operation can have four sub-categories:</p>
<p class="bullet1"><span class="bspace">&#x25CF;</span><span class="inline-math" id="b_9781450384827-006_ineq_0094"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mo>(</m:mo><m:mrow><m:mpadded><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub></m:mpadded><m:mpadded lspace="0.3em" width="+0.6em"><m:mtext>yo</m:mtext></m:mpadded><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub></m:mrow><m:mo>)</m:mo></m:mrow><m:mo>&#x2261;</m:mo><m:mrow><m:mo>(</m:mo><m:msubsup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn><m:mo>+</m:mo></m:msubsup><m:mo>;</m:mo><m:msubsup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn><m:mo>+</m:mo></m:msubsup><m:mo>)</m:mo></m:mrow><m:mo>&#x2261;</m:mo><m:mrow><m:mo>&#x2203;</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub></m:mrow><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0095"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:math></span> such that <span class="inline-math" id="b_9781450384827-006_ineq_0096"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>&lt;</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0097"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>s</m:mi></m:mrow></m:msub></m:mrow><m:mo>&lt;</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>s</m:mi></m:mrow></m:msub></m:mrow></m:math></span>.</p>
<p class="bullet"><span class="bspace">&#x25CF;</span><span class="inline-math" id="b_9781450384827-006_ineq_0098"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mo>(</m:mo><m:mrow><m:mpadded><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub></m:mpadded><m:mpadded lspace="0.3em" width="+0.6em"><m:mtext>dab</m:mtext></m:mpadded><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub></m:mrow><m:mo>)</m:mo></m:mrow><m:mo>&#x2261;</m:mo><m:mrow><m:mo>(</m:mo><m:msubsup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn><m:mo>+</m:mo></m:msubsup><m:mo>;</m:mo><m:msubsup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn><m:mo>&#x2212;</m:mo></m:msubsup><m:mo>)</m:mo></m:mrow><m:mo>&#x2261;</m:mo><m:mrow><m:mo>&#x2203;</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub></m:mrow><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0099"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:math></span> such that <span class="inline-math" id="b_9781450384827-006_ineq_0100"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>&lt;</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0101"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>s</m:mi></m:mrow></m:msub></m:mrow><m:mo>&lt;</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>e</m:mi></m:mrow></m:msub></m:mrow></m:math></span>.</p>
<p class="bullet"><span class="bspace">&#x25CF;</span><span class="inline-math" id="b_9781450384827-006_ineq_0102"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mo>(</m:mo><m:mrow><m:mpadded><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub></m:mpadded><m:mpadded lspace="0.3em" width="+0.6em"><m:mtext>sd</m:mtext></m:mpadded><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub></m:mrow><m:mo>)</m:mo></m:mrow><m:mo>&#x2261;</m:mo><m:mrow><m:mo>(</m:mo><m:msubsup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn><m:mo>&#x2212;</m:mo></m:msubsup><m:mo>;</m:mo><m:msubsup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn><m:mo>+</m:mo></m:msubsup><m:mo>)</m:mo></m:mrow><m:mo>&#x2261;</m:mo><m:mrow><m:mo>&#x2203;</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub></m:mrow><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0103"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:math></span> such that <span class="inline-math" id="b_9781450384827-006_ineq_0104"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>&lt;</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0105"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>e</m:mi></m:mrow></m:msub></m:mrow><m:mo>&lt;</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>s</m:mi></m:mrow></m:msub></m:mrow></m:math></span>.</p>
<p class="bullet2"><span class="bspace">&#x25CF;</span><span class="inline-math" id="b_9781450384827-006_ineq_0106"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mo>(</m:mo><m:mrow><m:mpadded><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub></m:mpadded><m:mpadded lspace="0.3em" width="+0.6em"><m:mtext>sv</m:mtext></m:mpadded><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub></m:mrow><m:mo>)</m:mo></m:mrow><m:mo>&#x2261;</m:mo><m:mrow><m:mo>(</m:mo><m:msubsup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn><m:mo>&#x2212;</m:mo></m:msubsup><m:mo>;</m:mo><m:msubsup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn><m:mo>&#x2212;</m:mo></m:msubsup><m:mo>)</m:mo></m:mrow><m:mo>&#x2261;</m:mo><m:mrow><m:mo>&#x2203;</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub></m:mrow><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0107"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:math></span> such that <span class="inline-math" id="b_9781450384827-006_ineq_0108"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>&lt;</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0109"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>e</m:mi></m:mrow></m:msub></m:mrow><m:mo>&lt;</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>e</m:mi></m:mrow></m:msub></m:mrow></m:math></span>.</p>
<p class="txi">For example, in Figure <a href="b_9781450384827-chapter-003.xhtml#b_9781450384827-003_fig_002">3.2</a> one might be interested in finding a pattern which indicates that after a moderate exercise activity ends an asthma attack occurs. The pattern is represented as (<i>Exercise</i>.<i>intensity</i>&#x2009;&#x2009;= <i>medium</i>)<sup>&#x2212;</sup>; (<i>Asthma</i>_<i>Attack</i>)<sup>+</sup>.</p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_001_s_003_s_003">6.1.3.3</span>Conditional Sequence Operation (&#x1D6D2;<sub>1</sub>; <span class="inline-math" id="b_9781450384827-006_ineq_0110"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msub><m:mi>&#x1D6DA;</m:mi><m:mrow><m:mi>&#x1D6AB;</m:mi><m:msub><m:mi>t</m:mi><m:mn>1</m:mn></m:msub></m:mrow></m:msub></m:math></span> &#x1D6D2;<sub>2</sub>)</h4>
<p class="tx">In general form, conditional sequence operation (&#x03C1;<sub>1</sub>; <span class="inline-math" id="b_9781450384827-006_ineq_0111"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:msub><m:mi>t</m:mi><m:mn>1</m:mn></m:msub></m:mrow></m:msub></m:math></span> &#x03C1;<sub>2</sub>; <span class="inline-math" id="b_9781450384827-006_ineq_0112"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:msub><m:mi>t</m:mi><m:mn>2</m:mn></m:msub></m:mrow></m:msub><m:mi mathvariant="normal">&#x2026;</m:mi></m:mrow><m:mo>;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:msub><m:mi>t</m:mi><m:mrow><m:mi>k</m:mi><m:mo>&#x2212;</m:mo><m:mn>1</m:mn></m:mrow></m:msub></m:mrow></m:msub></m:mrow></m:math></span> <i>&#x03C1;<sub>k</sub></i>) detects if pattern expression &#x03C1;<sub>1</sub> is followed by pattern expression &#x03C1;<sub>2</sub> <i>within</i> <span class="inline-math" id="b_9781450384827-006_ineq_0113"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:math></span> time units. <span class="inline-math" id="b_9781450384827-006_ineq_0114"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:math></span> is called the time lag or temporal restriction between two successive patterns. Formally, it is defined as follows: </p>
<p class="display1"><disp-formula id="b_9781450384827-006_uneq_998">
<m:math display="block" xmlns:m="http://www.w3.org/1998/Math/MathML" alttext="" altimg="../images/b_9781450384827-006_eq_0003.png"><m:mrow><m:mrow><m:mrow><m:mo>(</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mo>;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:msub><m:mi>t</m:mi><m:mn>1</m:mn></m:msub></m:mrow></m:msub><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub></m:mrow><m:mo>;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:msub><m:mi>t</m:mi><m:mn>2</m:mn></m:msub></m:mrow></m:msub><m:mi mathvariant="normal">&#x2026;</m:mi></m:mrow><m:mo>;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:msub><m:mi>t</m:mi><m:mrow><m:mi>k</m:mi><m:mo>&#x2212;</m:mo><m:mn>1</m:mn></m:mrow></m:msub></m:mrow></m:msub><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mi>k</m:mi></m:msub></m:mrow><m:mo>)</m:mo></m:mrow><m:mo>&#x2261;</m:mo><m:mrow><m:mo>&#x2203;</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub></m:mrow><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow><m:mo>,</m:mo><m:mrow><m:mrow><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>=</m:mo><m:mrow><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow><m:mo>,</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi></m:mrow></m:mrow><m:mo>,</m:mo><m:mrow><m:msub><m:mi>T</m:mi><m:mi>k</m:mi></m:msub><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mi>k</m:mi><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mi>k</m:mi><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:mrow></m:mrow></m:math>
</disp-formula></p>
<p class="tx1">such that</p>
<p class="display1"><disp-formula id="b_9781450384827-006_uneq_997">
<m:math display="block" xmlns:m="http://www.w3.org/1998/Math/MathML" alttext="" altimg="../images/b_9781450384827-006_eq_0004.png"><m:mtable columnspacing="5pt" displaystyle="true" rowspacing="0pt"><m:mtr><m:mtd/><m:mtd columnalign="left"><m:mrow><m:mrow><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>&lt;</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>&lt;</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo>&lt;</m:mo><m:msub><m:mi>T</m:mi><m:mi>k</m:mi></m:msub></m:mrow><m:mo>,</m:mo><m:mrow><m:mrow><m:mrow><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:mpadded><m:mi mathvariant="normal">&#x2026;</m:mi></m:mpadded><m:mo>&#x2227;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mi>k</m:mi></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mi>k</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:mrow><m:mo>,</m:mo><m:mrow><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>&#x2212;</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub></m:mrow></m:mrow><m:mo>&#x2264;</m:mo><m:mrow><m:mrow><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:msub><m:mi>t</m:mi><m:mn>1</m:mn></m:msub></m:mrow><m:mo>&#x2227;</m:mo><m:msub><m:mi>T</m:mi><m:mn>3</m:mn></m:msub></m:mrow><m:mo>&#x2212;</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub></m:mrow></m:mrow></m:mrow></m:mtd></m:mtr><m:mtr><m:mtd/><m:mtd columnalign="left"><m:mrow><m:mrow><m:mi/><m:mo>&#x2264;</m:mo><m:mrow><m:mrow><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:msub><m:mi>t</m:mi><m:mn>2</m:mn></m:msub></m:mrow><m:mo>&#x2227;</m:mo><m:mpadded><m:mi mathvariant="normal">&#x2026;</m:mi></m:mpadded><m:mo>&#x2227;</m:mo><m:msub><m:mi>T</m:mi><m:mi>k</m:mi></m:msub></m:mrow><m:mo>&#x2212;</m:mo><m:msub><m:mi>T</m:mi><m:mrow><m:mi>k</m:mi><m:mo>&#x2212;</m:mo><m:mn>1</m:mn></m:mrow></m:msub></m:mrow><m:mo>&#x2264;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:msub><m:mi>t</m:mi><m:mrow><m:mi>k</m:mi><m:mo>&#x2212;</m:mo><m:mn>1</m:mn></m:mrow></m:msub></m:mrow></m:mrow><m:mo>.</m:mo></m:mrow></m:mtd></m:mtr></m:mtable></m:math>
</disp-formula></p>
<p class="bullet1"><span class="bspace">&#x25CF;</span><span class="inline-math" id="b_9781450384827-006_ineq_0115"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mrow><m:mo>(</m:mo><m:msubsup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn><m:mo>+</m:mo></m:msubsup><m:mo>;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:msub><m:msubsup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn><m:mo>+</m:mo></m:msubsup></m:mrow><m:mo>)</m:mo></m:mrow><m:mo>&#x2261;</m:mo><m:mrow><m:mo>&#x2203;</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub></m:mrow><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow><m:mo>,</m:mo><m:mrow><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:mrow></m:math></span> such that <span class="inline-math" id="b_9781450384827-006_ineq_0116"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>&lt;</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0117"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0118"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>&#x2212;</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>s</m:mi></m:mrow></m:msub></m:mrow><m:mo>&#x2264;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mrow></m:math></span>.</p>
<p class="bullet"><span class="bspace">&#x25CF;</span><a id="page_78"/><span class="inline-math" id="b_9781450384827-006_ineq_0119"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mrow><m:mo>(</m:mo><m:msubsup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn><m:mo>+</m:mo></m:msubsup><m:mo>;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:msub><m:msubsup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn><m:mo>&#x2212;</m:mo></m:msubsup></m:mrow><m:mo>)</m:mo></m:mrow><m:mo>&#x2261;</m:mo><m:mrow><m:mo>&#x2203;</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub></m:mrow><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow><m:mo>,</m:mo><m:mrow><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:mrow></m:math></span> such that <span class="inline-math" id="b_9781450384827-006_ineq_0120"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>&lt;</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0121"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0122"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>&#x2212;</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>s</m:mi></m:mrow></m:msub></m:mrow><m:mo>&#x2264;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mrow></m:math></span>.</p>
<p class="bullet"><span class="bspace">&#x25CF;</span><span class="inline-math" id="b_9781450384827-006_ineq_0123"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mrow><m:mo>(</m:mo><m:msubsup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn><m:mo>&#x2212;</m:mo></m:msubsup><m:mo>;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:msub><m:msubsup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn><m:mo>+</m:mo></m:msubsup></m:mrow><m:mo>)</m:mo></m:mrow><m:mo>&#x2261;</m:mo><m:mrow><m:mo>&#x2203;</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub></m:mrow><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow><m:mo>,</m:mo><m:mrow><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:mrow></m:math></span> such that <span class="inline-math" id="b_9781450384827-006_ineq_0124"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>&lt;</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0125"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0126"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>&#x2212;</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>e</m:mi></m:mrow></m:msub></m:mrow><m:mo>&#x2264;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mrow></m:math></span>.</p>
<p class="bullet2"><span class="bspace">&#x25CF;</span><span class="inline-math" id="b_9781450384827-006_ineq_0127"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mrow><m:mo>(</m:mo><m:msubsup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn><m:mo>&#x2212;</m:mo></m:msubsup><m:mo>;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:msub><m:msubsup><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn><m:mo>&#x2212;</m:mo></m:msubsup></m:mrow><m:mo>)</m:mo></m:mrow><m:mo>&#x2261;</m:mo><m:mrow><m:mo>&#x2203;</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub></m:mrow><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow><m:mo>,</m:mo><m:mrow><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:mrow></m:math></span> such that <span class="inline-math" id="b_9781450384827-006_ineq_0128"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>&lt;</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0129"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0130"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>&#x2212;</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>e</m:mi></m:mrow></m:msub></m:mrow><m:mo>&#x2264;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mrow></m:math></span>.</p>
<p class="txi">For example, one might be interested in finding a pattern that indicates within 10 minutes of starting a vigorous exercises activity a severe asthma attack occurs. The pattern is represented as (<i>Exercise</i>.<i>intensity</i>&#x2009;&#x2009;= <i>high</i>)<sup>+</sup>; <span class="inline-math" id="b_9781450384827-006_ineq_0131"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mn>10</m:mn><m:mi>m</m:mi><m:mi>i</m:mi><m:mi>n</m:mi></m:mrow></m:msub><m:msup><m:mrow><m:mo>(</m:mo><m:mi mathvariant="italic">Asthma</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi mathvariant="italic">Attack</m:mi><m:mo>.</m:mo><m:mi mathvariant="italic">severity</m:mi><m:mo>=</m:mo><m:mi mathvariant="italic">high</m:mi><m:mo>)</m:mo></m:mrow><m:mo>+</m:mo></m:msup></m:mrow></m:math></span>.</p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_001_s_003_s_004">6.1.3.4</span>Concurrency Operation (<span class="inline-math" id="b_9781450384827-006_ineq_0132"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>&#x1D6D2;</m:mi><m:mn>1</m:mn></m:msub><m:mo mathvariant="bold">&#x22A5;&#x22A5;</m:mo><m:msub><m:mi>&#x1D6D2;</m:mi><m:mn>2</m:mn></m:msub></m:mrow></m:math></span>)</h4>
<p class="tx">In general form, concurrency operation <span class="inline-math" id="b_9781450384827-006_ineq_0133"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo>(</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mo>&#x22A5;&#x22A5;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mo>&#x22A5;&#x22A5;</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo>&#x22A5;&#x22A5;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mi>k</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:math></span> detects multiple patterns occur in parallel, and succeeds only if all patterns are detected. Unlike sequence, any order is allowed, and there has to be a non-empty overlap interval among the patterns.</p>
<p class="display1"><disp-formula id="b_9781450384827-006_uneq_996">
<m:math display="block" xmlns:m="http://www.w3.org/1998/Math/MathML" alttext="" altimg="../images/b_9781450384827-006_eq_0005.png"><m:mtable columnspacing="5pt" displaystyle="true" rowspacing="0pt"><m:mtr><m:mtd/><m:mtd columnalign="left"><m:mrow><m:mrow><m:mo>(</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mo>&#x22A5;&#x22A5;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mo>&#x22A5;&#x22A5;</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo>&#x22A5;&#x22A5;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mi>k</m:mi></m:msub><m:mo>)</m:mo></m:mrow><m:mo>&#x2261;</m:mo><m:mo>&#x2203;</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow><m:mo>,</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow><m:mo>,</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo>,</m:mo><m:msub><m:mi>T</m:mi><m:mi>k</m:mi></m:msub><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mi>k</m:mi><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mi>k</m:mi><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow><m:mo>,</m:mo></m:mrow></m:mtd></m:mtr><m:mtr><m:mtd/><m:mtd columnalign="left"><m:mrow><m:mrow><m:mrow><m:mrow><m:mrow><m:msub><m:mpadded><m:mi mathvariant="normal">&#x03C1;</m:mi></m:mpadded><m:mn>1</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:mpadded><m:mi mathvariant="normal">&#x2026;</m:mi></m:mpadded><m:mo>&#x2227;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mi>k</m:mi></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mi>k</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:mrow><m:mo>,</m:mo><m:mrow><m:mo>(</m:mo><m:mrow><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>&#x2229;</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>&#x2229;</m:mo><m:mpadded><m:mi mathvariant="normal">&#x2026;</m:mi></m:mpadded><m:mo>&#x2229;</m:mo><m:msub><m:mi>T</m:mi><m:mi>k</m:mi></m:msub></m:mrow><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2260;</m:mo><m:mi mathvariant="normal">&#x03D5;</m:mi></m:mrow><m:mo>.</m:mo></m:mrow></m:mtd></m:mtr></m:mtable></m:math>
</disp-formula></p>
<p class="txi">For example, one might be interested in encoding a pattern that indicates temperature stays low while pollution increases suddenly. The pattern is represented a <i>Temp</i>_<i>StayLow</i> &#x22A5;&#x2063;&#x22A5; <i>Pollution</i>_<i>IncSuddenly</i></p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_001_s_003_s_005">6.1.3.5</span>Alternation (<span class="inline-math" id="b_9781450384827-006_ineq_0134"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>&#x1D6D2;</m:mi><m:mn>1</m:mn></m:msub><m:mo mathvariant="italic" separator="true">&#x2003;</m:mo><m:mo mathvariant="bold">|</m:mo><m:mo mathvariant="italic" separator="true">&#x2003;</m:mo><m:msub><m:mi>&#x1D6D2;</m:mi><m:mn>2</m:mn></m:msub></m:mrow></m:math></span>)</h4>
<p class="tx">In general form, alternation <span class="inline-math" id="b_9781450384827-006_ineq_0135"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo>(</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mo>|</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mo>|</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo>|</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mi>k</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:math></span> detects if any pattern expressions &#x03C1;<sub>1</sub> to <i>&#x03C1;<sub>k</sub></i> matches the input event stream.</p>
<p class="display1"><disp-formula id="b_9781450384827-006_uneq_995">
<m:math display="block" xmlns:m="http://www.w3.org/1998/Math/MathML" alttext="" altimg="../images/b_9781450384827-006_eq_0006.png"><m:mrow><m:mrow><m:mo>(</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mo>|</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mo>|</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo>|</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mi>k</m:mi></m:msub><m:mo>)</m:mo></m:mrow><m:mo>&#x2261;</m:mo><m:mo>&#x2203;</m:mo><m:mpadded><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub></m:mpadded><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>1</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow><m:mo>,</m:mo><m:mpadded><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub></m:mpadded><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mn>2</m:mn><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow><m:mo>,</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo>,</m:mo><m:mpadded><m:msub><m:mi>T</m:mi><m:mi>k</m:mi></m:msub></m:mpadded><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mi>k</m:mi><m:mi>s</m:mi></m:mrow></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mrow><m:mi>k</m:mi><m:mi>e</m:mi></m:mrow></m:msub><m:mo>]</m:mo></m:mrow><m:mo>,</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>1</m:mn></m:msub><m:mo>)</m:mo></m:mrow><m:mo>&#x2228;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>2</m:mn></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mn>2</m:mn></m:msub><m:mo>)</m:mo></m:mrow><m:mo>&#x2228;</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo>&#x2228;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mi>k</m:mi></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>T</m:mi><m:mi>k</m:mi></m:msub><m:mo>)</m:mo></m:mrow><m:mo>.</m:mo></m:mrow></m:math>
</disp-formula></p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_001_s_003_s_006">6.1.3.6</span>Time (<span class="inline-math" id="b_9781450384827-006_ineq_0136"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>&#x1D6DA;</m:mi><m:mi>&#x1D6D5;</m:mi></m:msub><m:mo mathvariant="italic" separator="true">&#x2003;</m:mo><m:mi>&#x1D6D2;</m:mi></m:mrow></m:math></span>)</h4>
<p class="tx">The time operator requires a pattern &#x03C1; to occur within a certain time interval <span class="inline-math" id="b_9781450384827-006_ineq_0137"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x03C4;</m:mi><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi mathvariant="normal">&#x03C4;</m:mi><m:mi>s</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi mathvariant="normal">&#x03C4;</m:mi><m:mi>e</m:mi></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:math></span>.</p>
<p class="txi"><span class="inline-math" id="b_9781450384827-006_ineq_0138"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mi mathvariant="normal">&#x03C4;</m:mi></m:msub><m:mo mathvariant="italic" separator="true">&#x2003;</m:mo><m:mi mathvariant="normal">&#x03C1;</m:mi></m:mrow><m:mo>&#x2261;</m:mo><m:mrow><m:mo>&#x2203;</m:mo><m:mpadded><m:mi>T</m:mi></m:mpadded></m:mrow><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:math></span> such that <span class="inline-math" id="b_9781450384827-006_ineq_0139"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mrow><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mrow><m:mo>(</m:mo><m:mi>T</m:mi><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2227;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C4;</m:mi><m:mi>s</m:mi></m:msub></m:mrow><m:mo>&#x2264;</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo>&#x2264;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C4;</m:mi><m:mi>e</m:mi></m:msub></m:mrow></m:math></span>.</p>
<h3 class="h3"><span class="h3space" id="b_9781450384827-006_s_001_s_004">6.1.4</span>Data-driven Operators</h3>
<p class="tx">The following co-occurrence operators are calculated for every pair of event types in the system. Given two event streams <i>ES</i> and <span class="inline-math" id="b_9781450384827-006_ineq_0140"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>E</m:mi><m:mi>S</m:mi><m:mo>&#x2032;</m:mo></m:mrow></m:math></span>, the co-occurrence values are computed between every pair of <a id="page_79"/>event types in these streams. If <i>ES</i> contains <i>N</i> event types <i>E</i><sub>1</sub> to <i>E<sub>N</sub></i>, and <span class="inline-math" id="b_9781450384827-006_ineq_0141"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>E</m:mi><m:mi>S</m:mi><m:mo>&#x2032;</m:mo></m:mrow></m:math></span> contains <i>M</i> event types <span class="inline-math" id="b_9781450384827-006_ineq_0142"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>E</m:mi><m:msub><m:mo>&#x2032;</m:mo><m:mn>1</m:mn></m:msub></m:mrow></m:math></span> to <span class="inline-math" id="b_9781450384827-006_ineq_0143"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>E</m:mi><m:msub><m:mo>&#x2032;</m:mo><m:mi>M</m:mi></m:msub></m:mrow></m:math></span>, there are <i>N</i> &#x00D7; <i>M</i> co-occurrence pairs without considering time lags between events.</p>
<h4 class="h4"><span class="h2space" id="b_9781450384827-006_s_001_s_004_s_001">6.1.4.1</span>Sequential Co-occurrence <span class="inline-math" id="b_9781450384827-006_ineq_0144"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="bold-italic">S</m:mi><m:mi mathvariant="bold-italic">E</m:mi><m:mi mathvariant="bold-italic">Q</m:mi><m:mi mathvariant="bold-italic">_</m:mi><m:mi mathvariant="bold-italic">C</m:mi><m:msub><m:mi mathvariant="bold-italic">O</m:mi><m:mrow><m:mo mathvariant="bold">[</m:mo><m:mrow><m:mi mathvariant="bold">&#x0394;</m:mi><m:mi mathvariant="bold-italic">t</m:mi></m:mrow><m:mo mathvariant="bold">]</m:mo></m:mrow></m:msub></m:mrow></m:math></span>(<span class="inline-math" id="b_9781450384827-006_ineq_0145"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="bold-italic">E</m:mi><m:mi mathvariant="bold-italic">S</m:mi><m:mo>,</m:mo><m:mi mathvariant="bold-italic">E</m:mi><m:mi mathvariant="bold-italic">S</m:mi><m:mo mathvariant="bold-italic">&#x2032;</m:mo></m:mrow></m:math></span>)</h4>
<p class="tx">The inputs to this operator are two event streams <i>ES</i> and <span class="inline-math" id="b_9781450384827-006_ineq_0146"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>E</m:mi><m:mi>S</m:mi><m:mo>&#x2032;</m:mo></m:mrow></m:math></span> and a set of pre-defined time resolutions and time lags, and the output is a matrix with the co-occurrence value between each pair of event types in these event streams.</p>
<p class="display"><disp-formula id="b_9781450384827-006_eq_002">
<m:math display="block" xmlns:m="http://www.w3.org/1998/Math/MathML" alttext="" altimg="../images/b_9781450384827-006_eq_0007.png"><m:mrow><m:mi>S</m:mi><m:mi>E</m:mi><m:mi>Q</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>C</m:mi><m:msub><m:mi>O</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow><m:mo>]</m:mo></m:mrow></m:msub><m:mrow><m:mo>(</m:mo><m:mi>E</m:mi><m:mi>S</m:mi><m:mo>,</m:mo><m:mi>E</m:mi><m:mi>S</m:mi><m:mo>&#x2032;</m:mo><m:mo>)</m:mo></m:mrow><m:mo>=</m:mo><m:msub><m:mi>M</m:mi><m:mrow><m:mi>N</m:mi><m:mo>&#x00D7;</m:mo><m:mi>M</m:mi></m:mrow></m:msub><m:mo>&#x2208;</m:mo><m:msubsup><m:mi mathvariant="normal">&#x211C;</m:mi><m:mrow><m:mi>N</m:mi><m:mo>&#x00D7;</m:mo><m:mi>M</m:mi></m:mrow><m:mo>+</m:mo></m:msubsup></m:mrow></m:math>
</disp-formula></p>
<p class="float">(6.2)</p>
<p class="txi">If <span class="inline-math" id="b_9781450384827-006_ineq_0147"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>E</m:mi><m:mi>S</m:mi><m:mo>=</m:mo><m:mi>E</m:mi><m:mi>S</m:mi><m:mo>&#x2032;</m:mo></m:mrow></m:math></span>, it indicates auto co-occurrence on an event stream, otherwise it indicates cross co-occurrence between two event streams.</p>
<p class="txi">For a pair of events <i>E<sub>i</sub></i> and <i>E<sub>j</sub></i>, <span class="inline-math" id="b_9781450384827-006_ineq_0148"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>M</m:mi><m:mrow><m:mi>i</m:mi><m:mi>j</m:mi></m:mrow></m:msub><m:mo>=</m:mo><m:mrow><m:mi>S</m:mi><m:mi>e</m:mi><m:mi>q</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>C</m:mi><m:msub><m:mi>o</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow><m:mo>]</m:mo></m:mrow></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:mrow></m:math></span>, where sequential co-occurrence is defined as follows:</p>
<p class="txi">For a pair of events <i>E<sub>i</sub></i> and <i>E<sub>j</sub></i>, sequential co-occurrence with temporal time lag <span class="inline-math" id="b_9781450384827-006_ineq_0149"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:math></span> is the frequency of <i>E<sub>j</sub></i> following <i>E<sub>i</sub></i> within <span class="inline-math" id="b_9781450384827-006_ineq_0150"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:math></span> time lag.</p>
<p class="display"><disp-formula id="b_9781450384827-006_eq_003">
<m:math display="block" xmlns:m="http://www.w3.org/1998/Math/MathML" alttext="" altimg="../images/b_9781450384827-006_eq_0008.png"><m:mrow><m:mrow><m:mi>S</m:mi><m:mi>e</m:mi><m:mi>q</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>C</m:mi><m:msub><m:mi>o</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow><m:mo>]</m:mo></m:mrow></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>=</m:mo><m:mfrac><m:mrow><m:mi>C</m:mi><m:mi>o</m:mi><m:mi>u</m:mi><m:mi>n</m:mi><m:mi>t</m:mi><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>;</m:mo><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:msub><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub></m:mrow><m:mo>)</m:mo></m:mrow></m:mrow><m:mrow><m:mi>C</m:mi><m:mi>o</m:mi><m:mi>u</m:mi><m:mi>n</m:mi><m:mi>t</m:mi><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:mfrac></m:mrow></m:math>
</disp-formula></p>
<p class="float">(6.3)</p>
<p class="tx">with <span class="inline-math" id="b_9781450384827-006_ineq_0151"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mi>S</m:mi><m:mi>e</m:mi><m:mi>q</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>C</m:mi><m:msub><m:mi>o</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow><m:mo>]</m:mo></m:mrow></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>&#x2208;</m:mo><m:mi/></m:mrow></m:math></span> [0,1]. The maximum <span class="inline-math" id="b_9781450384827-006_ineq_0152"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mo>|</m:mo><m:mrow><m:mi>S</m:mi><m:mi>e</m:mi><m:mi>q</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>C</m:mi><m:mi>o</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow><m:mo>]</m:mo></m:mrow><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>|</m:mo></m:mrow><m:mo>=</m:mo><m:mn>1</m:mn></m:mrow></m:math></span> means that <i>E<sub>i</sub></i> and <i>E<sub>j</sub></i> are always co-occurring within <span class="inline-math" id="b_9781450384827-006_ineq_0153"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:math></span> time lag, while values close to zero indicate that there is no co-occurrence within the specified time lag. To check for a significant time lag between <i>E<sub>i</sub></i> and <i>E<sub>j</sub></i> we define:</p>
<p class="display"><disp-formula id="b_9781450384827-006_uneq_994">
<m:math display="block" xmlns:m="http://www.w3.org/1998/Math/MathML" alttext="" altimg="../images/b_9781450384827-006_eq_0009.png"><m:mrow><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:msup><m:mi>t</m:mi><m:mrow><m:mi>m</m:mi><m:mi>a</m:mi><m:mi>x</m:mi></m:mrow></m:msup></m:mrow><m:mo>=</m:mo><m:mrow><m:munder><m:mtext>argmax</m:mtext><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:munder><m:mrow><m:mo>(</m:mo><m:mrow><m:mi>S</m:mi><m:mi>e</m:mi><m:mi>q</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>C</m:mi><m:msub><m:mi>o</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow><m:mo>]</m:mo></m:mrow></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>)</m:mo></m:mrow></m:mrow></m:mrow></m:math>
</disp-formula></p>
<p class="tx">with <span class="inline-math" id="b_9781450384827-006_ineq_0154"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow><m:mo>&#x2208;</m:mo><m:mrow><m:mo>{</m:mo><m:mn>1</m:mn><m:mo>,</m:mo><m:mn>2</m:mn><m:mo>,</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo>,</m:mo><m:msub><m:mi>&#x03BB;</m:mi><m:mrow><m:mi>C</m:mi><m:mi>O</m:mi></m:mrow></m:msub><m:mo>}</m:mo></m:mrow></m:mrow></m:math></span>, where <span class="inline-math" id="b_9781450384827-006_ineq_0155"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msub><m:mi>&#x03BB;</m:mi><m:mrow><m:mi>C</m:mi><m:mi>O</m:mi></m:mrow></m:msub></m:math></span> is a design parameter indicating the maximum possible time lag between events.</p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_001_s_004_s_002">6.1.4.2</span>Concurrent Co-occurrence <span class="inline-math" id="b_9781450384827-006_ineq_0156"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="bold-italic">C</m:mi><m:mi mathvariant="bold-italic">O</m:mi><m:mi mathvariant="bold-italic">N</m:mi><m:mi mathvariant="bold-italic">_</m:mi><m:mi mathvariant="bold-italic">C</m:mi><m:mi mathvariant="bold-italic">O</m:mi></m:mrow></m:math></span>(<span class="inline-math" id="b_9781450384827-006_ineq_0157"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="bold-italic">E</m:mi><m:mi mathvariant="bold-italic">S</m:mi><m:mo mathvariant="bold-italic">,</m:mo><m:mi mathvariant="bold-italic">E</m:mi><m:mi mathvariant="bold-italic">S</m:mi><m:mo>&#x2032;</m:mo></m:mrow></m:math></span>)</h4>
<p class="tx">The inputs to this operator are two event streams and the output is a matrix with the concurrent co-occurrence value between each pair of event types in these event streams. </p>
<p class="display"><disp-formula id="b_9781450384827-006_eq_004">
<m:math display="block" xmlns:m="http://www.w3.org/1998/Math/MathML" alttext="" altimg="../images/b_9781450384827-006_eq_0010.png"><m:mrow><m:mi>C</m:mi><m:mi>O</m:mi><m:mi>N</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>C</m:mi><m:mi>O</m:mi><m:mrow><m:mo>(</m:mo><m:mi>E</m:mi><m:mi>S</m:mi><m:mo>,</m:mo><m:mi>E</m:mi><m:mi>S</m:mi><m:mo>&#x2032;</m:mo><m:mo>)</m:mo></m:mrow><m:mo>=</m:mo><m:msub><m:mi>M</m:mi><m:mrow><m:mi>N</m:mi><m:mo>&#x00D7;</m:mo><m:mi>M</m:mi></m:mrow></m:msub><m:mo>&#x2208;</m:mo><m:msubsup><m:mi mathvariant="normal">&#x211C;</m:mi><m:mrow><m:mi>N</m:mi><m:mo>&#x00D7;</m:mo><m:mi>M</m:mi></m:mrow><m:mo>+</m:mo></m:msubsup></m:mrow></m:math>
</disp-formula></p>
<p class="float">(6.4)</p>
<p class="txi">For a pair of events <i>E<sub>i</sub></i> and <i>E<sub>j</sub></i>, <span class="inline-math" id="b_9781450384827-006_ineq_0158"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>M</m:mi><m:mrow><m:mi>i</m:mi><m:mi>j</m:mi></m:mrow></m:msub><m:mo>=</m:mo><m:mrow><m:mi>C</m:mi><m:mi>o</m:mi><m:mi>n</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>C</m:mi><m:msub><m:mi>o</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow><m:mo>]</m:mo></m:mrow></m:msub><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:mrow></m:math></span>, where concurrent co-occurrence is defined as follow:</p>
<p class="txi"><a id="page_80"/>For a pair of events <i>E<sub>i</sub></i> and <i>E<sub>j</sub></i>, concurrent co-occurrence is the frequency count of <i>E<sub>i</sub></i> and <i>E<sub>j</sub></i> occurring with no particular order with <span class="inline-math" id="b_9781450384827-006_ineq_0159"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mo>[</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>.</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>.</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo>]</m:mo></m:mrow><m:mo>&#x2229;</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub><m:mo>.</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub><m:mo>.</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub><m:mo>]</m:mo></m:mrow><m:mo>&#x2260;</m:mo><m:mtext>&#x00D8;</m:mtext></m:mrow></m:math></span>.</p>
<p class="display"><disp-formula id="b_9781450384827-006_eq_005">
<m:math display="block" xmlns:m="http://www.w3.org/1998/Math/MathML" alttext="" altimg="../images/b_9781450384827-006_eq_0011.png"><m:mrow><m:mrow><m:mi>C</m:mi><m:mi>o</m:mi><m:mi>n</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>C</m:mi><m:mi>o</m:mi><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>,</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>=</m:mo><m:mfrac><m:mrow><m:mi>C</m:mi><m:mi>o</m:mi><m:mi>u</m:mi><m:mi>n</m:mi><m:mi>t</m:mi><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>&#x22A5;&#x22A5;</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mrow><m:mfrac><m:mn>1</m:mn><m:mn>2</m:mn></m:mfrac><m:mrow><m:mo>(</m:mo><m:mrow><m:mrow><m:mi>C</m:mi><m:mi>o</m:mi><m:mi>u</m:mi><m:mi>n</m:mi><m:mi>t</m:mi><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>+</m:mo><m:mrow><m:mi>C</m:mi><m:mi>o</m:mi><m:mi>u</m:mi><m:mi>n</m:mi><m:mi>t</m:mi><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:mrow><m:mo>)</m:mo></m:mrow></m:mrow></m:mfrac></m:mrow></m:math>
</disp-formula></p>
<p class="float">(6.5)</p>
</section>
<section epub:type="division">
<h2 class="h2"><span class="h2space" id="b_9781450384827-006_s_002">6.2</span>Architecture</h2>
<p class="tx">EventMiner is built with the human-in-the-loop concept as its core, as explained in Section <a href="b_9781450384827-chapter-004.xhtml#b_9781450384827-004_s_004">4.4</a>.</p>
<p class="txi">The human-in-the-loop concept leverages both human and machine intelligence to create models. EventMiner integrates the high-level expert knowledge into the event mining process by acquiring their relevance judgments regarding a set of initial retrieval results. In this approach, humans are directly involved through hypotheses formulation and hypotheses testing. In addition, when an analyst does not have any idea what hypothesis to formulate, pattern discovery techniques are utilized in creating an initial insight.</p>
<p class="txi">The paradigm of human-in-the-loop for model building is shown in a system architecture in Figure <a href="#b_9781450384827-006_fig_003">6.3</a>. Data-driven analysis results in the visualization of co-occurrence patterns Figure <a href="#b_9781450384827-006_fig_003">6.3</a>(a). By seeding a hypothesis based on the insight <a id="page_81"/>derived from such analysis, an expert can incorporate their own domain knowledge and formulate a refined hypothesis quickly, systematically, and <i>grow</i> the hypothesis iteratively to generate a comprehensive model [Figure <a href="#b_9781450384827-006_fig_003">6.3</a>(b)]. The former is called the <i>unknown&#x2013;unknown</i> problem and the latter is called the <i>known&#x2013;unknown</i> problem. The best model building practice is to create a balance between data-driven and hypothesis-driven analyses as one complements the other, reduces the search space significantly, and helps the analyst harvest and understand descriptive patterns.</p>
<figure class="split" id="b_9781450384827-006_fig_003">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_003.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.3</span>High level architecture of the EventMiner framework.</p></figcaption>
</figure>
<p class="txi">To illustrate this process consider the following scenario:</p>
<p class="txi">If one has asthma, it is important to keep track of the causes or triggers that provoke asthma attacks. Asthma attacks have been linked to exercise, respiratory infections, and exposure to environmental factors such as allergens, tobacco smoke, and air pollution. To understand the triggers of asthma we need to deal with increasingly large and complex sets of heterogeneous, high-dimensional data streams such as a person&#x2019;s physical activity, location, asthma attack history, allergens and pollutants in the environment, and so on. As these data streams flow into EventMiner, they are transformed into meaningful events. Life events encode a patient&#x2019;s activity of daily living such as exercise, jogging, walking, cycling, working, staying home, sleeping, and so on. Environmental events encode states and state transitions in the environmental variables such as temperature, air pressure, pollution, pollen, particular matter (PM2.5), PM10, carbon dioxide (CO<sub>2</sub>), carbon monoxide (CO), nitrous oxide (NO), ozone, and so on. </p>
<p class="txi">An asthma specialist is using the EventMiner framework to understand what effects a patient&#x2019;s asthma attack, what conditions worsen patient&#x2019;s disease, and if the patient&#x2019;s asthma is under control. In the initial stage, the specialist might apply data-driven operators to understand all event co-occurrences patterns. Looking at the visualization, she realizes that patterns (<i>Exercise</i>; <span class="inline-math" id="b_9781450384827-006_ineq_0161"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mn>0</m:mn><m:mo>&#x2212;</m:mo><m:mn>15</m:mn></m:mrow><m:mo>]</m:mo></m:mrow></m:msub><m:mi>A</m:mi><m:mi>s</m:mi><m:mi>t</m:mi><m:mi>h</m:mi><m:mi>m</m:mi><m:mi>a</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>A</m:mi><m:mi>t</m:mi><m:mi>t</m:mi><m:mi>a</m:mi><m:mi>c</m:mi><m:mi>k</m:mi></m:mrow></m:math></span>) and <span class="inline-math" id="b_9781450384827-006_ineq_0162"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo>(</m:mo><m:mrow><m:mo>(</m:mo><m:mi>A</m:mi><m:mi>c</m:mi><m:mi>t</m:mi><m:mi>i</m:mi><m:mi>v</m:mi><m:mi>i</m:mi><m:mi>t</m:mi><m:mi>y</m:mi><m:mi>L</m:mi><m:mi>e</m:mi><m:mi>v</m:mi><m:mi>e</m:mi><m:mi>l</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>h</m:mi><m:mi>i</m:mi><m:mi>g</m:mi><m:mpadded><m:mi>h</m:mi></m:mpadded><m:mo>|</m:mo><m:mi>A</m:mi><m:mi>c</m:mi><m:mi>t</m:mi><m:mi>i</m:mi><m:mi>v</m:mi><m:mi>i</m:mi><m:mi>t</m:mi><m:mi>y</m:mi><m:mi>L</m:mi><m:mi>e</m:mi><m:mi>v</m:mi><m:mi>e</m:mi><m:mi>l</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>v</m:mi><m:mi>e</m:mi><m:mi>r</m:mi><m:mi>y</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>h</m:mi><m:mi>i</m:mi><m:mi>g</m:mi><m:mi>h</m:mi><m:mo>)</m:mo></m:mrow></m:mrow></m:math></span>; <span class="inline-math" id="b_9781450384827-006_ineq_0163"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mn>0</m:mn><m:mo>&#x2212;</m:mo><m:mn>30</m:mn></m:mrow><m:mo>]</m:mo></m:mrow></m:msub><m:mi>A</m:mi><m:mi>s</m:mi><m:mi>t</m:mi><m:mi>h</m:mi><m:mi>m</m:mi><m:mi>a</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>A</m:mi><m:mi>t</m:mi><m:mi>t</m:mi><m:mi>a</m:mi><m:mi>c</m:mi><m:mi>h</m:mi><m:mo>)</m:mo></m:mrow></m:math></span> are significant patterns based on their occurrence frequency. She then seeds a hypothesis based on this knowledge and investigate more expressive patterns using hypothesis-driven operators to formulate the following patterns:</p>
<p class="display1"><disp-formula id="b_9781450384827-006_uneq_993">
<m:math display="block" xmlns:m="http://www.w3.org/1998/Math/MathML" alttext="" altimg="../images/b_9781450384827-006_eq_0012.png"><m:mtable columnspacing="5pt" displaystyle="true" rowspacing="0pt"><m:mtr><m:mtd/><m:mtd columnalign="left"><m:mrow><m:mo>(</m:mo><m:mrow><m:mo>(</m:mo><m:mi>E</m:mi><m:mi>x</m:mi><m:mi>e</m:mi><m:mi>r</m:mi><m:mi>c</m:mi><m:mi>i</m:mi><m:mi>s</m:mi><m:mi>e</m:mi><m:mo>;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mn>0</m:mn><m:mo>&#x2212;</m:mo><m:mn>15</m:mn></m:mrow><m:mo>]</m:mo></m:mrow></m:msub><m:mi>A</m:mi><m:mi>s</m:mi><m:mi>t</m:mi><m:mi>h</m:mi><m:mi>m</m:mi><m:mi>a</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>A</m:mi><m:mi>t</m:mi><m:mi>t</m:mi><m:mi>a</m:mi><m:mi>c</m:mi><m:mi>k</m:mi><m:mo>)</m:mo></m:mrow><m:mo>&#x22A5;&#x22A5;</m:mo><m:mi>P</m:mi><m:mi>o</m:mi><m:mi>l</m:mi><m:mi>l</m:mi><m:mi>u</m:mi><m:mi>t</m:mi><m:mi>i</m:mi><m:mi>o</m:mi><m:mi>n</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>h</m:mi><m:mi>i</m:mi><m:mi>g</m:mi><m:mi>h</m:mi><m:mo>)</m:mo></m:mrow></m:mtd></m:mtr><m:mtr><m:mtd/><m:mtd columnalign="left"><m:mrow><m:mo>(</m:mo><m:mrow><m:mo>(</m:mo><m:mi>E</m:mi><m:mi>x</m:mi><m:mi>e</m:mi><m:mi>r</m:mi><m:mi>c</m:mi><m:mi>i</m:mi><m:mi>s</m:mi><m:mi>e</m:mi><m:mo>;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mn>0</m:mn><m:mo>&#x2212;</m:mo><m:mn>15</m:mn></m:mrow><m:mo>]</m:mo></m:mrow></m:msub><m:mi>A</m:mi><m:mi>s</m:mi><m:mi>t</m:mi><m:mi>h</m:mi><m:mi>m</m:mi><m:mi>a</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>A</m:mi><m:mi>t</m:mi><m:mi>t</m:mi><m:mi>a</m:mi><m:mi>c</m:mi><m:mi>k</m:mi><m:mo>)</m:mo></m:mrow><m:mo>&#x22A5;&#x22A5;</m:mo><m:mi>P</m:mi><m:mi>o</m:mi><m:mi>l</m:mi><m:mi>l</m:mi><m:mi>e</m:mi><m:mi>n</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>h</m:mi><m:mi>i</m:mi><m:mi>g</m:mi><m:mi>h</m:mi><m:mo>)</m:mo></m:mrow></m:mtd></m:mtr><m:mtr><m:mtd/><m:mtd columnalign="left"><m:mrow><m:mo>(</m:mo><m:mrow><m:mo>(</m:mo><m:mi>E</m:mi><m:mi>x</m:mi><m:mi>e</m:mi><m:mi>r</m:mi><m:mi>c</m:mi><m:mi>i</m:mi><m:mi>s</m:mi><m:mi>e</m:mi><m:mo>;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mn>0</m:mn><m:mo>&#x2212;</m:mo><m:mn>15</m:mn></m:mrow><m:mo>]</m:mo></m:mrow></m:msub><m:mi>A</m:mi><m:mi>s</m:mi><m:mi>t</m:mi><m:mi>h</m:mi><m:mi>m</m:mi><m:mi>a</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>A</m:mi><m:mi>t</m:mi><m:mi>t</m:mi><m:mi>a</m:mi><m:mi>c</m:mi><m:mi>k</m:mi><m:mo>)</m:mo></m:mrow><m:mo>&#x22A5;&#x22A5;</m:mo><m:mrow><m:mo>(</m:mo><m:mi>P</m:mi><m:mi>o</m:mi><m:mi>l</m:mi><m:mi>l</m:mi><m:mi>e</m:mi><m:mi>n</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>h</m:mi><m:mi>i</m:mi><m:mi>g</m:mi><m:mi>h</m:mi><m:mo separator="true">&#x2003;</m:mo><m:mo>|</m:mo><m:mo separator="true">&#x2003;</m:mo><m:mi>P</m:mi><m:mi>o</m:mi><m:mi>l</m:mi><m:mi>l</m:mi><m:mi>u</m:mi><m:mi>t</m:mi><m:mi>i</m:mi><m:mi>o</m:mi><m:mi>n</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>h</m:mi><m:mi>i</m:mi><m:mi>g</m:mi><m:mi>h</m:mi><m:mo>)</m:mo></m:mrow><m:mo>)</m:mo></m:mrow></m:mtd></m:mtr><m:mtr><m:mtd/><m:mtd columnalign="left"><m:mrow><m:mo>(</m:mo><m:mrow><m:mo>(</m:mo><m:mrow><m:mo>(</m:mo><m:mi>A</m:mi><m:mi>c</m:mi><m:mi>t</m:mi><m:mi>i</m:mi><m:mi>v</m:mi><m:mi>i</m:mi><m:mi>t</m:mi><m:mi>y</m:mi><m:mi>L</m:mi><m:mi>e</m:mi><m:mi>v</m:mi><m:mi>e</m:mi><m:mi>l</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>h</m:mi><m:mi>i</m:mi><m:mi>g</m:mi><m:mi>h</m:mi><m:mo separator="true">&#x2003;</m:mo><m:mo>|</m:mo><m:mo separator="true">&#x2003;</m:mo><m:mi>A</m:mi><m:mi>c</m:mi><m:mi>t</m:mi><m:mi>i</m:mi><m:mi>v</m:mi><m:mi>i</m:mi><m:mi>t</m:mi><m:mi>y</m:mi><m:mi>L</m:mi><m:mi>e</m:mi><m:mi>v</m:mi><m:mi>e</m:mi><m:mi>l</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>v</m:mi><m:mi>e</m:mi><m:mi>r</m:mi><m:mi>y</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>h</m:mi><m:mi>i</m:mi><m:mi>g</m:mi><m:mi>h</m:mi><m:mo>)</m:mo></m:mrow><m:mo>;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mn>0</m:mn><m:mo>&#x2212;</m:mo><m:mn>30</m:mn></m:mrow><m:mo>]</m:mo></m:mrow></m:msub><m:mi>A</m:mi><m:mi>s</m:mi><m:mi>t</m:mi><m:mi>h</m:mi><m:mi>m</m:mi><m:mi>a</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>A</m:mi><m:mi>t</m:mi><m:mi>t</m:mi><m:mi>a</m:mi><m:mi>c</m:mi><m:mi>k</m:mi><m:mo>)</m:mo></m:mrow></m:mrow></m:mtd></m:mtr><m:mtr><m:mtd/><m:mtd columnalign="left"><m:mrow><m:mo>&#x22A5;&#x22A5;</m:mo><m:mi>T</m:mi><m:mi>e</m:mi><m:mi>m</m:mi><m:mi>p</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>l</m:mi><m:mi>o</m:mi><m:mi>w</m:mi><m:mo>)</m:mo></m:mrow></m:mtd></m:mtr></m:mtable></m:math>
</disp-formula></p>
<p class="txi"><a id="page_82"/>EventMiner helps the specialist to narrow down the causes of an asthma attack and understand the patient&#x2019;s sensitivity to different allergens in a systematic and scientific way. </p>
</section>
<section epub:type="division">
<h2 class="h2"><span class="h2space" id="b_9781450384827-006_s_003">6.3</span>Core Processing and Language Syntax</h2>
<p class="tx">From the asthma management scenario in the previous section, several requirements can be derived for a high-level language that facilitate explanatory modeling. </p>
<p class="bullet1"><span class="bspace">&#x25CF;</span>The language needs to be expressive enough to describe patterns of varying complexity.</p>
<p class="bullet"><span class="bspace">&#x25CF;</span>The primitive building blocks of the language need to be easily understandable and usable by the end user.</p>
<p class="bullet2"><span class="bspace">&#x25CF;</span>The language needs to be implementable considering different performance goals defined by the user, such as time and space complexity.</p>
<p class="txi">In this section we describe a pattern language for EventMiner that is based on the concept of finite state automaton (FSA) that is extended with the support for defining temporal relationships between the events. </p>
<div class="split" id="b_9781450384827-006_stat_012">
<p class="statementcaption"><span class="statespace">Definition 6.12</span>Automaton: An FSA is a 5-tuple <span class="inline-math" id="b_9781450384827-006_ineq_0164"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo mathvariant="normal">(</m:mo><m:mrow><m:mi>O</m:mi><m:mo mathvariant="italic">&#x2062;</m:mo><m:mi>S</m:mi></m:mrow><m:mo mathvariant="normal">,</m:mo><m:mrow><m:mi>T</m:mi><m:mo mathvariant="italic">&#x2062;</m:mo><m:mi>S</m:mi></m:mrow><m:mo mathvariant="normal">,</m:mo><m:mrow><m:mi>E</m:mi><m:mo mathvariant="italic">&#x2062;</m:mo><m:mi>d</m:mi></m:mrow><m:mo mathvariant="normal">,</m:mo><m:msub><m:mi>s</m:mi><m:mn mathvariant="normal">0</m:mn></m:msub><m:mo mathvariant="normal">,</m:mo><m:msub><m:mi>s</m:mi><m:mi>f</m:mi></m:msub><m:mo mathvariant="normal">)</m:mo></m:mrow></m:math></span>, consisting of a finite set of ordinary states (<i>OS</i>), time states (<i>TS</i>), transitions between states (<i>Ed</i>), a start state <span class="inline-math" id="b_9781450384827-006_ineq_0165"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>s</m:mi><m:mn mathvariant="normal">0</m:mn></m:msub><m:mo mathvariant="normal">&#x2208;</m:mo><m:mrow><m:mi>O</m:mi><m:mo mathvariant="italic">&#x2062;</m:mo><m:mi>S</m:mi></m:mrow></m:mrow></m:math></span>, and a final or acceptance state <span class="inline-math" id="b_9781450384827-006_ineq_0166"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>s</m:mi><m:mi>f</m:mi></m:msub><m:mo mathvariant="normal">&#x2208;</m:mo><m:mrow><m:mi>O</m:mi><m:mo mathvariant="italic">&#x2062;</m:mo><m:mi>S</m:mi></m:mrow></m:mrow></m:math></span>.</p>
</div>
<p class="tx">Figure <a href="#b_9781450384827-006_fig_004">6.4</a> shows the building blocks of our FSA. Each operator in the language translates to its corresponding automaton to detect instances of a specific pattern in the input stream. The theory of FSA is rich and FSA techniques have been used in a wide range of domains such as pattern matching, pattern recognition, speech processing, handwriting recognition, encryption algorithm, and data compression. Using FSA for pattern recognition and pattern matching has several advantages. First, FSA is a well-understood computational model with relatively simple <a id="page_83"/>implementation that supports symbolic pattern matching over data streams. Second, the high-level pattern language consists of a set of operators that are tailored toward formulation of complex patterns. The characteristics of these operators can be translated to specifications of different automata. Hence, complex patterns can easily be decomposed to multiple computational automata. </p>
<figure class="split" id="b_9781450384827-006_fig_004">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_004.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.4</span>Basic building blocks of FSA in a high-level pattern formulation and query language.</p></figcaption>
</figure>
<p class="txi">The processing operators defined in Section <a href="#b_9781450384827-006_s_001_s_003">6.1.3</a> are the basic building blocks of pattern formulation recognition. These operators need to be compiled to a processing unit. In the EventMiner framework, the pattern recognition component employs an extended FSA that supports a time model to facilitate incorporating temporal restrictions that are an integral part of co-occurrence pattern analysis. The automaton contains two types of states: ordinary states (OS) and time states (TS). An ordinary state is analogous to states in traditional finite automata. It consumes an event from event stream, applies an <b>EVALUATE()</b> function and make a transition to the next state in case the evaluation is successful. A time state on the other hand keeps track of time constraint requirements by applying a <b>SET()</b> function on the boundaries of a time lag <span class="inline-math" id="b_9781450384827-006_ineq_0167"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo>(</m:mo><m:msub><m:mi>&#x03B4;</m:mi><m:mn>1</m:mn></m:msub><m:mo>,</m:mo><m:msub><m:mi>&#x03B4;</m:mi><m:mn>2</m:mn></m:msub><m:mo>)</m:mo></m:mrow></m:math></span> that is going to be used in the evaluation function of the next ordinary state. The ordinary state is represented by an event type <span class="inline-math" id="b_9781450384827-006_ineq_0168"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>&#x2208;</m:mo><m:mi mathvariant="normal">&#x03BE;</m:mi></m:mrow></m:math></span> and it means that the FSA is waiting for <i>E<sub>i</sub></i> to be seen in the input event stream.</p>
<p class="txi">Figure <a href="#b_9781450384827-006_fig_005">6.5</a> demonstrates an initialized FSA corresponding to a pattern <span class="inline-math" id="b_9781450384827-006_ineq_0170"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:msub><m:mo>=</m:mo><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mn>5</m:mn></m:msub><m:mo>;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mo>[</m:mo><m:mn>10</m:mn><m:mo>]</m:mo></m:mrow></m:msub></m:mrow></m:mrow></m:math></span> <span class="inline-math" id="b_9781450384827-006_ineq_0171"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>E</m:mi><m:mn>1</m:mn></m:msub><m:mo>;</m:mo><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mo>[</m:mo><m:mn>3</m:mn><m:mo>]</m:mo></m:mrow></m:msub></m:mrow></m:math></span> <i>E</i><sub>4</sub>). During run time, <span class="inline-math" id="b_9781450384827-006_ineq_0172"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>.</m:mo><m:msub><m:mi>t</m:mi><m:mi>s</m:mi></m:msub></m:mrow></m:math></span> and <span class="inline-math" id="b_9781450384827-006_ineq_0173"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>.</m:mo><m:msub><m:mi>t</m:mi><m:mi>e</m:mi></m:msub></m:mrow></m:math></span> are substituted with start and end time of an instance of event <i>E<sub>i</sub></i> from the input event stream. The strategy for counting occurrences of a pattern is straightforward. For a pattern, say &#x03C1;, an automaton <span class="inline-math" id="b_9781450384827-006_ineq_0174"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>F</m:mi><m:mi>S</m:mi><m:msub><m:mi>A</m:mi><m:mi mathvariant="normal">&#x03C1;</m:mi></m:msub></m:mrow></m:math></span> is initialized. The initialization process includes translating event types and temporal constraints to ordinary states and time states, and allocating a buffer for EVALUATE() and SET() functions within each state. As we read data from an event stream, by considering the output of EVALUATE(), the automaton makes the earliest possible transitions into the next successive state. Once it reaches its final state, an occurrence of the pattern is recognized and its frequency is increased <a id="page_84"/>by one. A new automaton is initialized for pattern &#x03C1; when an event corresponding to the pattern&#x2019;s first event appears again in the input event stream.</p>
<figure class="split" id="b_9781450384827-006_fig_005">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_005.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.5</span>The automaton corresponding to pattern <span class="inline-math" id="b_9781450384827-006_ineq_0169"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mn>1</m:mn></m:mrow></m:math></span> with three event components. It demonstrates three ordinary states, two time states, and EVALUATE() and SET() functions associated with each state.</p></figcaption>
</figure>
<p class="txi">A high-level definition of a pattern with implicit structural and temporal information can be translated into an automata-based pattern specification using <a id="page_85"/>automaton building blocks. Next, we present the language operators and the construction of their corresponding automaton. For simplicity and without the loss of generality, operators are depicted between two events only. However, these operators can be cascaded to compose more complex patterns.</p>
<figure class="split" id="b_9781450384827-006_fig_006">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_006.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.6</span>Selection operator evaluates an ordinary state on event type <i>E<sub>i</sub></i> and and its attributes <i>P</i>. It can also select an event type <i>E<sub>i</sub></i> without any specific attribute.</p></figcaption>
</figure>
<figure class="split" id="b_9781450384827-006_fig_007">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_007.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.7</span>Sequence operator evaluates an ordinary state on first event type&#x2019;s start/end followed by second event type&#x2019;s start/end.</p></figcaption>
</figure>
<p class="tx1"><b>Selection (<i>E<sub>i</sub></i>.<i>P</i>)</b>:&#x2002;As shown in Figure <a href="#b_9781450384827-006_fig_006">6.6</a>, this operator filters pattern expression on predicate <i>P</i>, where <i>P</i> refers to event attributes contained in the pattern <i>P</i> &#x2208; &#x03BE;, and event schema &#x03BE; describes a set of attributes a class of events can contain. <i>E<sub>i</sub></i>, <span class="inline-math" id="b_9781450384827-006_ineq_0176"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mn>1</m:mn><m:mo>&#x2264;</m:mo><m:mi>i</m:mi><m:mo>&#x2264;</m:mo><m:mi>N</m:mi></m:mrow></m:math></span> is an event type where <span class="inline-math" id="b_9781450384827-006_ineq_0177"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>&#x2282;</m:mo><m:mi mathvariant="normal">&#x03A3;</m:mi></m:mrow></m:math></span>, and &#x03A3; is the alphabet of event types.</p>
<p class="tx1"><b>Sequence (<i>E<sub>i</sub></i>; <i>E<sub>j</sub></i>):</b>&#x2002;As shown in Figure <a href="#b_9781450384827-006_fig_007">6.7</a>, this operator detects if event type <i>E<sub>i</sub></i> is followed by event type <i>E<sub>j</sub></i>.</p>
<figure class="split" id="b_9781450384827-006_fig_008">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_008.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.8</span>Conditional sequence operator evaluates an ordinary state on first event type&#x2019;s start/end followed by second event type&#x2019;s start/end within <span class="inline-math" id="b_9781450384827-006_ineq_0175"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow><m:mo>=</m:mo><m:mrow><m:mo>[</m:mo><m:msub><m:mi>&#x03B4;</m:mi><m:mn>1</m:mn></m:msub><m:mo>,</m:mo><m:msub><m:mi>&#x03B4;</m:mi><m:mn>2</m:mn></m:msub><m:mo>]</m:mo></m:mrow></m:mrow></m:math></span> time units. Time state set <i>&#x03B4;</i><sub>1</sub> and <i>&#x03B4;</i><sub>2</sub> values based on the first event&#x2019;s timestamp in the event stream. These values are used in the evaluation phase of the next ordinary state.</p></figcaption>
</figure>
<figure class="split" id="b_9781450384827-006_fig_009">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_009.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.9</span>Concurrency operator evaluates an ordinary state on first event type&#x2019;s start/end followed by second event type&#x2019;s start/end and checks for a non-empty temporal overlap in the second event&#x2019;s evaluation phase.</p></figcaption>
</figure>
<figure class="split" id="b_9781450384827-006_fig_010">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_010.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.10</span>Alternation operator evaluates multiple ordinary states on given event types.</p></figcaption>
</figure>
<p class="tx1"><a id="page_86"/><b>Conditional sequence (<span class="inline-math" id="b_9781450384827-006_ineq_0178"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi mathvariant="bold-italic">E</m:mi><m:mi mathvariant="bold-italic">i</m:mi></m:msub><m:mo mathvariant="bold">;</m:mo><m:mrow><m:msub><m:mi mathvariant="bold-italic">&#x1D6DA;</m:mi><m:mrow><m:mo mathvariant="bold">[</m:mo><m:msub><m:mi mathvariant="bold-italic">&#x03B4;</m:mi><m:mn mathvariant="bold">1</m:mn></m:msub><m:mo mathvariant="bold">,</m:mo><m:msub><m:mi mathvariant="bold-italic">&#x03B4;</m:mi><m:mn mathvariant="bold">2</m:mn></m:msub><m:mo mathvariant="bold">]</m:mo></m:mrow></m:msub><m:mo mathvariant="bold">&#x2062;</m:mo><m:msub><m:mi mathvariant="bold-italic">E</m:mi><m:mi mathvariant="bold-italic">j</m:mi></m:msub></m:mrow></m:mrow></m:math></span>)</b>:&#x2002;As shown in Figure <a href="#b_9781450384827-006_fig_008">6.8</a>, this operator detects if event type <i>E<sub>i</sub></i> is followed by event type <i>E<sub>j</sub></i> within <span class="inline-math" id="b_9781450384827-006_ineq_0179"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo>[</m:mo><m:msub><m:mi>&#x03B4;</m:mi><m:mn>1</m:mn></m:msub><m:mo>,</m:mo><m:msub><m:mi>&#x03B4;</m:mi><m:mn>2</m:mn></m:msub><m:mo>]</m:mo></m:mrow></m:math></span> time units. </p>
<p class="tx1"><b>Concurrency (<span class="inline-math" id="b_9781450384827-006_ineq_0180"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mpadded><m:msub><m:mi mathvariant="bold-italic">E</m:mi><m:mi mathvariant="bold-italic">i</m:mi></m:msub></m:mpadded><m:mo mathvariant="bold">&#x22A5;&#x22A5;</m:mo><m:msub><m:mi mathvariant="bold-italic">E</m:mi><m:mi mathvariant="bold-italic">j</m:mi></m:msub></m:mrow></m:math></span>):</b>&#x2002;As shown in Figure <a href="#b_9781450384827-006_fig_009">6.9</a>, this operator detects if <i>E<sub>i</sub></i> and <i>E<sub>j</sub></i> are happening in parallel. Any order between events is acceptable.</p>
<p class="tx1"><b>Alternation (<span class="inline-math" id="b_9781450384827-006_ineq_0181"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi mathvariant="bold-italic">E</m:mi><m:mi mathvariant="bold-italic">i</m:mi></m:msub><m:mo mathvariant="italic" separator="true">&#x2003;</m:mo><m:mo mathvariant="bold">|</m:mo><m:mo mathvariant="italic" separator="true">&#x2003;</m:mo><m:msub><m:mi mathvariant="bold-italic">E</m:mi><m:mi mathvariant="bold-italic">j</m:mi></m:msub></m:mrow></m:math></span>):</b>&#x2002;As shown in Figure <a href="#b_9781450384827-006_fig_010">6.10</a>, this operator detects if either <i>E<sub>i</sub></i> or <i>E<sub>j</sub></i> happens.</p>
</section>
<section epub:type="division">
<h2 class="h2"><span class="h2space" id="b_9781450384827-006_s_004">6.4</span>Interactive Event Mining Process</h2>
<p class="tx">The user of EventMiner can import pre-processed data (i.e., event streams) and choose data-driven operators and their suitable visualizations to explore the data, generate a basic model, and derive preliminary insights. Then, she can seed a hypothesis and grow it step by step using the hypothesis-driven pattern formulation operators. </p>
<p class="txi"><a id="page_87"/>Figure <a href="#b_9781450384827-006_fig_011">6.11</a> demonstrates the user interface of EventMiner. The basic components are:</p>
<figure class="split" id="b_9781450384827-006_fig_011">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_011.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.11</span>Analytical dashboard of EventMiner framework.</p></figcaption>
</figure>
<p class="numeric1"><span class="nspace">1.</span><b>Data selection panel:</b> Select different events and event streams from database. </p>
<p class="numeric"><span class="nspace">2.</span><b>Data-driven operator panel:</b> These operators are utilized for pattern mining from event streams. </p>
<p class="numeric"><span class="nspace">3.</span><b>Hypotheses-driven operator panel:</b> These operators are used for pattern formulation and pattern query from input events. </p>
<p class="numeric2"><span class="nspace">4.</span><b>Visualization panels:</b> The results of pattern mining and pattern query are displayed visually in the form of co-occurrence matrices and histograms. </p>
</section>
<section epub:type="division">
<h2 class="h2"><span class="h2space" id="b_9781450384827-006_s_005">6.5</span>Case Studies with EventMiner</h2>
<h3 class="h3afterh2"><span class="h2space" id="b_9781450384827-006_s_005_s_001">6.5.1</span>Asthma Risk Management</h3>
<p class="tx">Targeted care for those at highest risk of asthma attack is an important application that will help people all over the world. Asthma risk prediction is growing in <a id="page_88"/>importance, both at an individual level and at the public health level. Exposure to air pollution, specifically PM2.5, is linked with asthma exacerbation; however, the role played by meteorological factors such as temperature, humidity, rainfall, wind, and so on, and the complicated interrelations between these factors and asthma outbreaks are not well understood.</p>
<p class="txi">A comprehensive understanding of asthma risk factors requires a framework that enables multimodal and heterogeneous data aggregation and processing. Using this framework, medical researchers can study the interrelations between multiple risk factors and answer questions such as:</p>
<p class="bullet1"><span class="bspace">&#x25CF;</span>During the fall season, how does pollution affect asthma in rainy or windy days?</p>
<p class="bullet2"><span class="bspace">&#x25CF;</span>After a sudden increase in PM2.5, within how many days does an asthma outbreak happens? How does the presence of different climate conditions affect this situation?</p>
<p class="txi">We applied EventMiner to identify meaningful relationships between environmental factors and asthma exacerbation. We aimed to reveal complex risk factors in asthma outbreaks that go beyond simple correlations. Using the data-driven operators of EventMiner, interesting patterns of different sizes were revealed. In addition, by applying hypothesis formulation and refinement, we could understand the inter-relations between meteorological factors, pollution, and asthma outbreak. Moreover, recognizing the time lags between risk factor and outbreak is one of the most important contributions of applying EventMiner to this problem.</p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_005_s_001_s_001">6.5.1.1</span>Motivation of the Study</h4>
<p class="tx">Asthma is a lifelong disease that causes wheezing, breathlessness, chest tightness, and coughing and limits a person&#x2019;s quality of life. An estimated 300 million people worldwide suffer from asthma, with 250,000 annual deaths attributed to the disease. It is estimated that the number of people with asthma will grow by more than 100 million by 2025 [<a href="bib.xhtml#b_9781450384827_ref_038">Cruz et al. 2007</a>]. In the United States, 1 in 12 people (about 25 million, or 8% of the population) had asthma in 2009, compared with 1 in 14 (about 20 million, or 7%) in 2001. More than half (53%) of people with asthma had an asthma attack in 2008.</p>
<p class="txi">Most people with asthma can control their symptoms and prevent asthma attacks by avoiding asthma triggers and correctly using prescribed medicines. Asthma is a chronic disease, so managing this disease effectively is the best way to cope with it. To manage asthma, it is important to understand the many asthma triggers. Some major asthma triggers are: pollution, pollen, cold air, exercise, dust, smoke, pets, stress, chemical fumes, and bugs. Once one identifies and reduces the <a id="page_89"/>exposure to the specific triggers, one can take an active role in controlling one&#x2019;s asthma and reduce the frequency of asthma attacks.</p>
<p class="txi">A great body of research in medical science applies correlation detection techniques and regression models to conclude a positive or negative correlation between asthma attacks and asthma risk factors. For example, <a href="bib.xhtml#b_9781450384827_ref_053">Galan et al.</a> [<a href="bib.xhtml#b_9781450384827_ref_053">2003</a>] studied the relationship between asthma attack and pollutant exposure and <a href="bib.xhtml#b_9781450384827_ref_100">Lee et al.</a> [<a href="bib.xhtml#b_9781450384827_ref_100">2012</a>] investigated the influence of weather fluctuation on asthma. The results of these studies are mostly reported as correlation coefficients and p-values. These results are not expressive beyond assessing strong or weak positive/negative correlations.</p>
<p class="txi"><a href="bib.xhtml#b_9781450384827_ref_014">Bae et al.</a> [<a href="bib.xhtml#b_9781450384827_ref_014">2012</a>] introduced a framework that can monitor and analyze a patient&#x2019;s exposure to environmental triggers of asthma attacks. The system emphasized using the patient&#x2019;s location, environmental pollution, temperature, and humidity to find correlations between the patient&#x2019;s health condition and the negative impact of environmental factors. Although the framework is interesting, the article is at the conceptual level only without any actual implementation or experiment. <a href="bib.xhtml#b_9781450384827_ref_083">Kaku et al.</a> [<a href="bib.xhtml#b_9781450384827_ref_083">2012</a>] applied an auto-regressive model on environmental temperature pressure and humidity to predict asthma attacks. The authors defined a set of rules based on expert knowledge that reflect the vulnerability of asthma patients to the fluctuation of meteorological factors. The study did not learn any rules from sensor data, and instead relied on a set of predefined rules to predict asthma attacks. </p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_005_s_001_s_002">6.5.1.2</span>Applying EventMiner</h4>
<p class="tx">In this section we present the results of applying EventMiner to identify meaningful relationships between environmental factors and asthma exacerbation. We use messages from social networks as an indicator of asthma outbreaks; then we try to find digital footprints of potential triggers of the outbreak in the physical sensory data. We define <i>asthma risk factors</i> as temporal structures and order relations between weather conditions and environmental pollution and their effect on asthma exacerbation. Asthma risk factors are formulated and extracted with EventMiner. For experimental evaluations, we collected environmental pollution and meteorological data from Tokyo and Osaka cities and applied EventMiner to analyze complex risk factor patterns that might have resulted in asthma outbreaks. Figure <a href="#b_9781450384827-006_fig_012">6.12</a> shows the overall framework for analyzing and modeling asthma risk factors. Our goal is to detect the prevalence of asthma by finding complex interrelations between air pollution, meteorological factors, and asthma exacerbation. Once a burst in asthma-related messages in a social media platform is detected, the historical physical sensory data within a one-week time window preceding the <a id="page_90"/>burst are analyzed to find a set of complex risk factor patterns that might have resulted in the burst. </p>
<figure class="split" id="b_9781450384827-006_fig_012">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_012.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.12</span>Extracting asthma risk factors by analyzing the relationship between tweets containing asthma topic data and meteorological data streams.</p></figcaption>
</figure>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_005_s_001_s_003">6.5.1.3</span>Data Pre-processing</h4>
<p class="tx"><a href="bib.xhtml#b_9781450384827_ref_120">Mizunuma et al.</a> [<a href="bib.xhtml#b_9781450384827_ref_120">2014</a>] showed that there is a relationship between real world events and what people tweet about. As a result, the content of tweets can be leveraged for recognizing a situation in the real world. We use data collected for 2 years, from January 2013 to January 2015, in Osaka and Tokyo. The data contain <a id="page_91"/>continuous hourly PM2.5, temperature, rain, wind, humidity, solar radiation, sunshine, and air pressure readings. </p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_005_s_001_s_004">6.5.1.4</span>Topic Modeling</h4>
<p class="tx">The target of topic modeling is to build a topic detector <i>E<sub>v</sub></i> that filters messages from social sensors that contain a specific topic, that is, asthma. To build the topic detector, we used KeyGraph [<a href="bib.xhtml#b_9781450384827_ref_155">Sayyadi and Raschid 2013</a>], a topic detection approach that considers keyword co-occurrences to find the topics of interest from a large and noisy data repository. KeyGraph is composed of a set of non-overlapped sub-graphs called communities; each community is considered as one topic or event. To build the community <i>E<sub>x</sub></i> for a given topic <i>X</i>, say asthma, we first collect a set of <i>X</i>-related documents from the Internet (Wikipedia, medical web pages, etc.), and other scientific journal archives (e.g., ojphi.org). Then, we use KeyGraph to build a set of communities. Finally, we pick a community that contains the keyword <i>X</i>, and collect all keywords that are directly connected to <i>X</i> as the <i>E<sub>x</sub></i>. We assume that a tweet that contains at least one keyword in <i>E<sub>x</sub></i> is related to the topic <i>X</i>.</p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_005_s_001_s_005">6.5.1.5</span>Environmental Event Stream Modeling</h4>
<p class="tx">The target of this component is to extract meaningful events from input data streams and generate the corresponding event streams. We use an event model to create an abstraction level on top of sensory data streams. A burst detector [<a href="bib.xhtml#b_9781450384827_ref_090">Kleinberg 2003</a>] is applied to find bursting points on the topic histogram of tweets. Moreover, environmental data are analyzed to extract trends, and then trend information are abstracted to their symbolic aggregate approXimation (SAX) representation [<a href="bib.xhtml#b_9781450384827_ref_106">Lin et al. 2007</a>].</p>
<p class="txi">In time-series data streams, trend analysis plays a major role. We used the seasonal-trend decomposition by Loess (STL) method, introduced in <a href="bib.xhtml#b_9781450384827_ref_106">Lin et al.</a> [<a href="bib.xhtml#b_9781450384827_ref_106">2007</a>], to decompose original time-series data into trend, seasonal, and remainder streams. Figure <a href="#b_9781450384827-006_fig_013">6.13</a> shows such a decomposition on PM2.5 observations for a duration of 1 month in Tokyo during December 2014.</p>
<p class="txi">The SAX algorithm with an alphabet size of size 3 (a, b, c symbols) is applied on the trend data to create SAX-code streams. Given the specifications of our application, we are interested in capturing state transitions (e.g., pollution level increases or decreases), and state value maintenance for a duration of time (e.g., pollution level stays high). Six event types are defined for each data stream. Table <a href="#b_9781450384827-006_tab_003">6.3</a> shows a list of SAX codes and the corresponding event definitions assigned to each. Using this encoding, each SAX-code trend data stream is converted to an event stream. These event streams are used as the input to the pattern mining component of EventMiner. </p>
<figure class="split" id="b_9781450384827-006_fig_013">
<p class="figure-img"><a id="page_92"/><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_013.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.13</span>Seasonal-trend decomposition by Loess on PM2.5 data stream.</p></figcaption>
</figure>
<figure class="split" id="b_9781450384827-006_tab_003">
<figcaption><p class="tabcaption"><span class="tabspace">Table 6.3:</span><b>Definition of events assigned to each SAX-code</b></p></figcaption>
<table class="chtable">
<thead>
<tr>
<th class="thleft"><b>Symbol</b></th>
<th class="thleft"><b>SAX-code</b></th>
<th class="thleft"><b>Event definition</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tdleft">Low value level=a</td>
<td class="tdleft">ab/bc</td>
<td class="tdleft">Increase</td>
</tr>
<tr>
<td class="tdleft grey"/>
<td class="tdleft grey">ac</td>
<td class="tdleft grey">Suddenly increase</td>
</tr>
<tr>
<td class="tdleft">Medium value level=b</td>
<td class="tdleft">ca</td>
<td class="tdleft">Suddenly decrease</td>
</tr>
<tr>
<td class="tdleft grey"/>
<td class="tdleft grey">cb/ba</td>
<td class="tdleft grey">Decrease</td>
</tr>
<tr>
<td class="tdleft">High value level=c</td>
<td class="tdleft">aaa</td>
<td class="tdleft">Stay low</td>
</tr>
<tr>
<td class="tdleft grey"/>
<td class="tdleft grey">ccc</td>
<td class="tdleft grey">Stay high</td>
</tr>
</tbody>
</table>
</figure>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_005_s_001_s_006">6.5.1.6</span>Data-driven Risk Factor Recognition</h4>
<p class="tx">We are interested in finding the relationships between multiple asthma triggers, mainly PM2.5 and meteorological factors. An asthma risk factor is a pattern characterized by structural order and temporal constraints between multiple events that have resulted in an asthma outbreak. An outbreak is an increase in the frequency of a disease above what is expected in a given population. For example the pattern &#x03C1; = ((<i>rain</i>_<i>stays</i>_<i>high</i> &#x22A5;&#x2063;&#x22A5; <i>temperature</i>_<i>stays</i>_<i>high</i>); <i>asthma</i>_<i>outberak</i>) is considered to be a risk factor if &#x03C1; occurs frequently.</p>
<p class="txi">Figures <a href="#b_9781450384827-006_fig_014">6.14</a> to <a href="#b_9781450384827-006_fig_019">6.19</a> display six dominant risk factors based on their frequency counts in the city of Osaka. Significant risk factors are detected for each season separately because the risk factors are quite different from one season to another. RF1 shows that in summer, when solar radiation is high, the combination of low wind and high pollution causes asthma outbreaks. RF2 shows that without considering the effect of solar radiation, high wind and high pollution have a significant impact on asthma outbreaks. RF3 implies that low humidity in the presence of pollution plays an important role in outbreaks during spring, while temperature fluctuation is a major factor during the fall and winter. Also, a lack of wind while air pressure and humidity are high causes major outbreaks during winter. </p>
<figure class="split" id="b_9781450384827-006_fig_014">
<p class="figure-img"><a id="page_93"/><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_014.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.14</span>RF1 = ((Wind_stays_low; PM2.5_stays_high) &#x22A5;&#x2063;&#x22A5; SolarRadiation_stays_high).</p></figcaption>
</figure>
<figure class="split" id="b_9781450384827-006_fig_015">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_015.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.15</span>RF2 = (PM2.5_stays_high; &#x03C9; [0-1 days] Wind_stays_high).</p></figcaption>
</figure>
<figure class="split" id="b_9781450384827-006_fig_016">
<p class="figure-img"><a id="page_94"/><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_016.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.16</span>RF3 = (Wind_stays_low; (PM2.5_stays_high &#x22A5;&#x2063;&#x22A5; Humidity_stays_low)).</p></figcaption>
</figure>
<figure class="split" id="b_9781450384827-006_fig_017">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_017.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.17</span>RF4 = (Temperature_dec_steadily; Humidity_stays_low).</p></figcaption>
</figure>
<figure class="split" id="b_9781450384827-006_fig_018">
<p class="figure-img"><a id="page_95"/><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_018.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.18</span>RF5 = (PM2.5_stays_high &#x22A5;&#x2063;&#x22A5; Sunshine_stays_high &#x22A5;&#x2063;&#x22A5; Wind_stays_low).</p></figcaption>
</figure>
<figure class="split" id="b_9781450384827-006_fig_019">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_019.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.19</span>RF6 = ((Wind_stays_low; &#x03C9;[0-1 days] Humidity_stays_low) &#x22A5;&#x2063;&#x22A5; Airpressure_stays_high).</p></figcaption>
</figure>
<p class="txi"><a id="page_96"/>Figure <a href="#b_9781450384827-006_fig_020">6.20</a> demonstrates the most significant asthma risk factors of size 2 with their occurrence frequency for each season and in total in Tokyo. A description of each pattern is shown in Table <a href="#b_9781450384827-006_tab_004">6.4</a>. From this analysis we realized that although PM2.5 has the most impact on asthma outbreaks in general, its effect is not noteworthy in the fall and winter seasons. In addition, temperature fluctuations have the most impact on outbreaks in the fall and winter seasons and it is not a major risk factor during the spring or summer. Another interesting observation is that significant rainfall during the spring and summer makes an asthma outbreak more probable. At first, this observation might be counterintuitive because rain should not affect asthma, unless it is combined with some other factors that we did not <a id="page_97"/>capture in our model. To shed light on this matter, we consulted with asthma experts and realized that thunderstorms in general are associated with an increase in asthma exacerbation. This is because high concentrations of allergens, specially pollen, are found to coincide with thunderstorms. Our experiments did not account for the effect of pollen since pollen data were not available.</p>
<figure class="split" id="b_9781450384827-006_fig_020">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_020.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.20</span>Frequency of asthma risk factors of size 2.</p></figcaption>
</figure>
<figure class="split" id="b_9781450384827-006_tab_004">
<figcaption><p class="tabcaption"><span class="tabspace">Table 6.4:</span><b>Risk factor patterns and their corresponding pattern number from Figure <a href="#b_9781450384827-006_fig_020">6.20</a>. (e.g., (<i>PM</i>2.5_<i>inc</i></b>  ; <i>&#x1D6DA;</i><sub><b>[0-4days]</b></sub><b>Asthma_outbreak) reads: once PM2.5 increases, an asthma outbreak happens within 4 days)</b></p></figcaption>
<table class="chtable">
<thead>
<tr>
<th class="thleft"><b>Pattern number</b></th>
<th class="thleft"><b>Risk factor pattern</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tdleft">1</td>
<td class="tdleft"><span class="inline-math" id="b_9781450384827-006_ineq_0182"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>P</m:mi><m:mi>M</m:mi><m:mn>2.5</m:mn><m:mi mathvariant="normal">_</m:mi><m:mi>i</m:mi><m:mi>n</m:mi><m:mi>c</m:mi></m:mrow></m:math></span> ; <span class="inline-math" id="b_9781450384827-006_ineq_0183"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mn>0</m:mn><m:mo>&#x2212;</m:mo><m:mrow><m:mn>4</m:mn><m:mi>d</m:mi><m:mi>a</m:mi><m:mi>y</m:mi><m:mi>s</m:mi></m:mrow></m:mrow><m:mo>]</m:mo></m:mrow></m:msub></m:math></span> Asthma_outbreak</td>
</tr>
<tr>
<td class="tdleft grey">2</td>
<td class="tdleft grey"><span class="inline-math" id="b_9781450384827-006_ineq_0184"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>T</m:mi><m:mi>e</m:mi><m:mi>m</m:mi><m:mi>p</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>s</m:mi><m:mi>t</m:mi><m:mi>a</m:mi><m:mi>y</m:mi><m:mi>s</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>h</m:mi><m:mi>i</m:mi><m:mi>g</m:mi><m:mi>h</m:mi></m:mrow></m:math></span> ; <span class="inline-math" id="b_9781450384827-006_ineq_0185"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mn>0</m:mn><m:mo>&#x2212;</m:mo><m:mrow><m:mn>4</m:mn><m:mi>d</m:mi><m:mi>a</m:mi><m:mi>y</m:mi><m:mi>s</m:mi></m:mrow></m:mrow><m:mo>]</m:mo></m:mrow></m:msub></m:math></span> Asthma_outbreak</td>
</tr>
<tr>
<td class="tdleft">3</td>
<td class="tdleft"><span class="inline-math" id="b_9781450384827-006_ineq_0186"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>R</m:mi><m:mi>a</m:mi><m:mi>i</m:mi><m:mi>n</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>i</m:mi><m:mi>n</m:mi><m:mi>c</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>s</m:mi><m:mi>u</m:mi><m:mi>d</m:mi><m:mi>d</m:mi><m:mi>e</m:mi><m:mi>n</m:mi><m:mi>l</m:mi><m:mi>y</m:mi></m:mrow></m:math></span> ; <span class="inline-math" id="b_9781450384827-006_ineq_0187"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mn>0</m:mn><m:mo>&#x2212;</m:mo><m:mrow><m:mn>5</m:mn><m:mi>d</m:mi><m:mi>a</m:mi><m:mi>y</m:mi><m:mi>s</m:mi></m:mrow></m:mrow><m:mo>]</m:mo></m:mrow></m:msub></m:math></span> Asthma_outbreak</td>
</tr>
<tr>
<td class="tdleft grey">4</td>
<td class="tdleft grey"><span class="inline-math" id="b_9781450384827-006_ineq_0188"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>T</m:mi><m:mi>e</m:mi><m:mi>m</m:mi><m:mi>p</m:mi><m:mi>e</m:mi><m:mi>r</m:mi><m:mi>a</m:mi><m:mi>t</m:mi><m:mi>u</m:mi><m:mi>r</m:mi><m:mi>e</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>s</m:mi><m:mi>t</m:mi><m:mi>a</m:mi><m:mi>y</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>l</m:mi><m:mi>o</m:mi><m:mi>w</m:mi></m:mrow></m:math></span> ; <span class="inline-math" id="b_9781450384827-006_ineq_0189"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mn>0</m:mn><m:mo>&#x2212;</m:mo><m:mrow><m:mn>3</m:mn><m:mi>d</m:mi><m:mi>a</m:mi><m:mi>y</m:mi><m:mi>s</m:mi></m:mrow></m:mrow><m:mo>]</m:mo></m:mrow></m:msub></m:math></span> Asthma_outbreak</td>
</tr>
<tr>
<td class="tdleft">5</td>
<td class="tdleft"><span class="inline-math" id="b_9781450384827-006_ineq_0190"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>P</m:mi><m:mi>M</m:mi><m:mn>2.5</m:mn><m:mi mathvariant="normal">_</m:mi><m:mi>i</m:mi><m:mi>n</m:mi><m:mi>c</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>s</m:mi><m:mi>u</m:mi><m:mi>d</m:mi><m:mi>d</m:mi><m:mi>e</m:mi><m:mi>n</m:mi><m:mi>l</m:mi><m:mi>y</m:mi></m:mrow></m:math></span> ; <span class="inline-math" id="b_9781450384827-006_ineq_0191"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mn>0</m:mn><m:mo>&#x2212;</m:mo><m:mrow><m:mn>2</m:mn><m:mi>d</m:mi><m:mi>a</m:mi><m:mi>y</m:mi><m:mi>s</m:mi></m:mrow></m:mrow><m:mo>]</m:mo></m:mrow></m:msub></m:math></span> Asthma_outbreak</td>
</tr>
<tr>
<td class="tdleft grey">6</td>
<td class="tdleft grey"><span class="inline-math" id="b_9781450384827-006_ineq_0192"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>W</m:mi><m:mi>i</m:mi><m:mi>n</m:mi><m:mi>d</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>d</m:mi><m:mi>e</m:mi><m:mi>c</m:mi></m:mrow></m:math></span> ; <span class="inline-math" id="b_9781450384827-006_ineq_0193"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mn>0</m:mn><m:mo>&#x2212;</m:mo><m:mrow><m:mn>3</m:mn><m:mi>d</m:mi><m:mi>a</m:mi><m:mi>y</m:mi><m:mi>s</m:mi></m:mrow></m:mrow><m:mo>]</m:mo></m:mrow></m:msub></m:math></span> Asthma_outbreak</td>
</tr>
<tr>
<td class="tdleft">7</td>
<td class="tdleft"><span class="inline-math" id="b_9781450384827-006_ineq_0194"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>W</m:mi><m:mi>i</m:mi><m:mi>n</m:mi><m:mi>d</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>i</m:mi><m:mi>n</m:mi><m:mi>c</m:mi></m:mrow></m:math></span> ; <span class="inline-math" id="b_9781450384827-006_ineq_0195"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mn>0</m:mn><m:mo>&#x2212;</m:mo><m:mrow><m:mn>4</m:mn><m:mi>d</m:mi><m:mi>a</m:mi><m:mi>y</m:mi><m:mi>s</m:mi></m:mrow></m:mrow><m:mo>]</m:mo></m:mrow></m:msub></m:math></span> Asthma_outbreak</td>
</tr>
<tr>
<td class="tdleft grey">8</td>
<td class="tdleft grey"><span class="inline-math" id="b_9781450384827-006_ineq_0196"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>P</m:mi><m:mi>M</m:mi><m:mn>2.5</m:mn><m:mi mathvariant="normal">_</m:mi><m:mi>s</m:mi><m:mi>t</m:mi><m:mi>a</m:mi><m:mi>y</m:mi><m:mi>s</m:mi><m:mi mathvariant="normal">_</m:mi><m:mi>h</m:mi><m:mi>i</m:mi><m:mi>g</m:mi><m:mi>h</m:mi></m:mrow></m:math></span> ; <span class="inline-math" id="b_9781450384827-006_ineq_0197"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msub><m:mi mathvariant="normal">&#x03C9;</m:mi><m:mrow><m:mo>[</m:mo><m:mrow><m:mn>0</m:mn><m:mo>&#x2212;</m:mo><m:mrow><m:mn>5</m:mn><m:mi>d</m:mi><m:mi>a</m:mi><m:mi>y</m:mi><m:mi>s</m:mi></m:mrow></m:mrow><m:mo>]</m:mo></m:mrow></m:msub></m:math></span> Asthma_outbreak</td>
</tr>
</tbody>
</table>
</figure>
<p class="txi">Figure <a href="#b_9781450384827-006_fig_021">6.21</a> shows 16 significant patterns of size 3, and 5 significant patterns of size 4 in Tokyo. These patterns demonstrate the relationships between two or three events as well as the time lag between them and asthma exacerbation. For example, when rain decreases followed by PM2.5 increases within 4 days, then asthma outbreaks happen. The total number of occurrences of size-3 patterns declined compared to size-2 patterns. The same is true between size-4 patterns and size-5 patterns. By increasing the size of a pattern it becomes more specific, and the more specific a pattern is the less frequent it occurs in the data.</p>
<p class="txi">The results suggest some interesting patterns:</p>
<p class="numeric1"><span class="nspace">1.</span>When PM2.5 increases followed by temperature staying high within 3 days, an asthma outbreak is probable.</p>
<p class="numeric2"><span class="nspace">2.</span>When wind decreases followed by a PM2.5 increase within 5 days, then an asthma outbreak is probable.</p>
<p class="txi">Recognizing the time lags between the events is a major contribution of applying EventMiner to the asthma risk factor recognition problem. To the best of our knowledge, explanatory modeling of risk factors has never before been studied systematically in a healthcare application.</p>
<p class="txi">In a different experiment, we investigated the effect of meteorological factors combined with other environmental conditions in asthma outbreaks in Osaka. We focused on hypothesis refinement in EventMiner. Multiple studies have shown a <a id="page_98"/>correlation between PM2.5 and asthma outbreaks [<a href="bib.xhtml#b_9781450384827_ref_024">Cakmak et al. 2012</a>, <a href="bib.xhtml#b_9781450384827_ref_039">D&#x2019;Amato et al. 2002</a>]. However, we found that <i>PM2.5_inc_steadily</i> cause asthma outbreaks with only 54% probability. When air pollution increases <i>while</i> air pressure is high, the possibility of an outbreak reaches 59%. Therefore, the increase of air pressure is shown to be a surrogate for accumulation of PM2.5, and is more strongly associated with asthma outbreaks than any other combination of meteorological factors and air pollution. Some of these interesting findings are shown in Table <a href="#b_9781450384827-006_tab_005">6.5</a>. For example, <i>P</i>21 is not a risk factor by itself because the chances of an outbreak is only 9%, but when it is combined with high temperature the outbreak possibility increases significantly. </p>
<figure class="split" id="b_9781450384827-006_fig_021">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_021.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.21</span>Frequency of asthma risk factors of sizes 3 and 4.</p></figcaption>
</figure>
<h3 class="h3"><span class="h2space" id="b_9781450384827-006_s_005_s_002">6.5.2</span>Objective Self: One Step Beyond Quantified Self</h3>
<p class="tx">Self is a fascinating subject. It is what we know intuitively but it is hard to define. When we ask psychologists what self is, they might say it is indefinable, should not be defined, will be limited if we define it, or it is a placeholder for something we do not understand. When we define self, it changes the definition of a healthy self and, in a practical way, the approaches one can take to strengthen the self. When we try to enhance self, the first step is to measure it. We need to measure and monitor the <a id="page_99"/>things that we want to control. Monitoring and modifying are two essential components of our journey to a healthy self. Once we define self, we can have a better idea of how to create a stronger self, or, at the least, how to model self. There are many ways to describe feelings, activities, emotions, and so on. However, the ability to observe those feelings and activities and understand the relationships between those will take our understanding of self to a whole new level.</p>
<figure class="split" id="b_9781450384827-006_tab_005">
<figcaption><p class="tabcaption"><span class="tabspace">Table 6.5:</span><b>Potential risk factors and the probability of asthma outbreaks before and after hypothesis refinement</b></p></figcaption>
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_tab_005.jpg"/></p>
</figure>
<p class="txi">In this section, we discuss how to objectively measure self from diverse sources of information; how to use EventMiner for building <i>objective self</i> as an explanatory model of a person, and how to use this model in a behavior assessment application.</p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_005_s_002_s_001">6.5.2.1</span>Quantified Self</h4>
<p class="tx">The 21st century has witnessed significant advances in storage, processing, sensing, and communication technologies. All these have resulted in the popularization of strong data-dependent approaches, leading to the rise in popularity of <i>scientism</i> [<a href="bib.xhtml#b_9781450384827_ref_144">Peterson 2003</a>] in almost all disciplines where data is available. <a id="page_100"/>Because scientific approaches emphasize observation and systematic experimentation, the availability of sensors to observe different aspects of physical reality has encouraged the collection of such data as well as their analysis in order to develop laws of nature. As the availability of data has become widespread, it is possible to fulfill the desire of understanding physical reality at different levels in different applications.</p>
<p class="txi">Inspired by the growth in data and their applicability in disparate areas, many people have started collecting data about themselves. This popular and rapidly spreading movement is called <i>quantified self</i>. Now that different types of sensors are available and new types of sensors could be developed, people who are sensitive to their health have started recording health-related information using sensors ranging from simple wearable accelerometers to other measurements such as body temperature, heart rate, perspiration rate, glucose level, and many other parameters.</p>
<p class="txi">With the trend of activity recognition, <a href="bib.xhtml#b_9781450384827_ref_069">Gurrin et al.</a> [<a href="bib.xhtml#b_9781450384827_ref_069">2014</a>] emphasized the importance of lifelogging as <i>a phenomenon whereby people can digitally record their own daily lives in varying amounts of detail, for a variety of purposes</i>. They considered the application of lifelogging in different domains including medical (i.e., memory support), behavioral science (i.e., analysis of quality of life), and work-related tasks [<a href="bib.xhtml#b_9781450384827_ref_147">Qiu et al. 2016</a>]. They suggested an end-to-end lifelogging solution with cutting edge components (i.e., gathering, enriching, segmenting, keyframe, annotation, and narrative) for extracting meaningful knowledge from one&#x2019;s lifelog data. Lifelogs or eChronicles could be considered the predecessors of the quantified self. With these systems, people record their life activities using wearable and other sensors. Their activities are detected using classification techniques and then visualized or analyzed to extract meaningful information from the data. A good deal of research was done in the context of individuals and for the US Department of Defense. A popular project in this area called MyLifeBits [<a href="bib.xhtml#b_9781450384827_ref_060">Gemmell et al. 2002</a>] was championed by Gordon Bell at Microsoft.</p>
<p class="txi">It is commonly believed that recording data from wearable devices and having access to it may result in many personal benefits for people. With the availability of better quality data, not only will the quality of an individual&#x2019;s models improve but it will also facilitate real-time guidance and recommendation. </p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_005_s_002_s_002">6.5.2.2</span>Objective Self Has Arrived</h4>
<p class="tx">The quantified self movement is an important step in introducing a scientific framework to help understand an individual based on continuously collected data. The early stages of scientific framework based on sustained observations of controlled and natural experiments are being converted to laws related to the physical, <a id="page_101"/>social, and spiritual systems representing an individual. We define Objective Self as follow: </p>
<p class="tx"><i>The process of objectively measuring physical, physiological, and mental activities of a person and explaining the associations between these activities.</i></p>
<p class="txi">Wearable sensors and smartphones collect considerable contextual data about a user, ranging from physical activity and visited places to app usage and sleep patterns. Considerable research has been devoted to analyzing raw location and accelerometer measurements to infer user activities such as walking, running, driving, and cycling. However, combining individual multimodal streams to recognize higher-level life events (sleeping, working, commuting, etc.) has remained a challenge. Figure <a href="#b_9781450384827-006_fig_022">6.22</a> shows two broad categories of data streams. The first category includes sensors that collect heterogeneous personal data such as accelerometers and GPS. These data streams are temporally aligned and divided into equal time windows <i>T<sub>w</sub></i>. Within each time window one or multiple probable life events and relevant attributes of these life events might be recognized. Life events signifies all daily living activities that are a part of daily life. Thus, we can effectively obtain a chronicle of the person&#x2019;s life events called <i>Personicle</i> [<a href="bib.xhtml#b_9781450384827_ref_131">Oh and Jain 2017</a>, <a href="bib.xhtml#b_9781450384827_ref_132">2019</a>].</p>
<p class="txi">The second category contains environmental information such as pollution and temperature. These time series data can be converted to time series of discrete labels through discretization, and meaningful events can be defined on top of these data streams (e.g., pollution increases suddenly). As data is collected through time, recognized events create a chronicle. Such event chronicles introduce a new structure over timeline dimension where explanatory modeling can be performed at this abstracted level rather than on low-level time series. </p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_005_s_002_s_003">6.5.2.3</span>An Architecture for Objective Self</h4>
<p class="tx">Figure <a href="#b_9781450384827-006_fig_023">6.23</a> shows the high-level architecture of the objective self platform. This architecture has three main components: data ingestion, life event recognition, and EventMiner data-driven and hypothesis-driven operators. Data ingestion uses various sensors and pre-processing modules to extract appropriate attributes from raw sensor measurements. Life event recognition assigns the most appropriate life event and populates event&#x2019;s properties from a set of predefined event classes based on attributes of the data. Life events are independent atomic elements of explanatory modeling for building objective self. EventMiner is applied on personicle to detect recurring co-occurrence patterns and derive insights. </p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_005_s_002_s_004">6.5.2.4</span>Life Event Recognition</h4>
<p class="tx">We use smartphones as the main source of personal information. The technological and social characteristics of smartphones make them very useful in behavioral <a id="page_102"/>analysis. The device is willingly carried by a large number of people and allows unobtrusive and cost-effective access to previously inaccessible sources of data on everyday activities. We developed an Android-based lifelog app that collects data continuously without user intervention. Table <a href="#b_9781450384827-006_tab_006">6.6</a> demonstrates the type of sensors utilized in this study and the information derived from them. Location data has venue_name and venue_type attributes for a specific latitude and longitude coordinate (e.g., name: Panini; type: restaurant). Venue type information is obtained from Google place API by using latitude and longitude data from Google Play service <a id="page_103"/>API. Media is a binary attribute that monitors whether the user listens to music or watches video. Transition is a binary attribute that determines whether the user&#x2019;s location has changed from a certain venue type to another between two contiguous 5-minute intervals. These attributes are collected for each 5-minute interval. Interval segments are then fed to the life event recognition module.</p>
<figure class="split" id="b_9781450384827-006_fig_022">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_022.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.22</span>Chronicle of life events are derived from heterogeneous mobile multimedia content. Chronicle of environmental events are shown as segmented time series data. Each colored segment corresponds to a specific event.</p></figcaption>
</figure>
<figure class="split" id="b_9781450384827-006_fig_023">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_023.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.23</span>High-level architecture of applying EventMiner to build objective self. The three main components are data ingestion, life event recognition, and pattern recognition.</p></figcaption>
</figure>
<p class="txi">Table <a href="#b_9781450384827-006_tab_007">6.7</a> shows a selected group of life events and their corresponding recognition method. The life event recognition module can either recognize one of the events in the first category with a <i>context fusion</i> technique, or return an <i>unknown</i> event. Contextual information related to application usage on a smartphone can be utilized to determine one of the events in the second category of life events. We assume that life events in the first category are mutually exclusive in a sense that two (or more) of them cannot happen simultaneously in a 5-minute interval. However, they can happen in parallel with life events in the second category, for example, a user might check her email while attending a class.</p>
<figure class="split" id="b_9781450384827-006_tab_006">
<figcaption><p class="tabcaption"><span class="tabspace">Table 6.6:</span><b>Data streams from a smartphone and the list of derived attributes from each stream</b></p></figcaption>
<table class="chtable">
<thead>
<tr>
<th class="thleft"><b>Data stream</b></th>
<th class="thleft"><b>Attribute</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tdleft">time</td>
<td class="tdleft">time_window, unix_timestamp, weekday/weekend</td>
</tr>
<tr>
<td class="tdleft grey">activity</td>
<td class="tdleft grey">activity_type &#x2282; {standing still, tilting, walking, running, bicycling, and in vehicle}, activity_level &#x2208;[0,4]</td>
</tr>
<tr>
<td class="tdleft">location</td>
<td class="tdleft">latitude, longitude venue_name, venue_type</td>
</tr>
<tr>
<td class="tdleft grey">step</td>
<td class="tdleft grey">step_count</td>
</tr>
<tr>
<td class="tdleft">application</td>
<td class="tdleft">app_name</td>
</tr>
<tr>
<td class="tdleft grey">photo</td>
<td class="tdleft grey">photo_count</td>
</tr>
<tr>
<td class="tdleft">light</td>
<td class="tdleft">light_value &#x2208;[0,1000]</td>
</tr>
<tr>
<td class="tdleft grey">phone status</td>
<td class="tdleft grey">screen_on, screen_off</td>
</tr>
<tr>
<td class="tdleft">media</td>
<td class="tdleft">play_time</td>
</tr>
<tr>
<td class="tdleft grey">sound</td>
<td class="tdleft grey">sound_setting &#x2282;{(silence, vibration, or bell)}</td>
</tr>
<tr>
<td class="tdleft">call</td>
<td class="tdleft">call_type &#x2282;{(missed, rejected, incoming or outgoing)}</td>
</tr>
<tr>
<td class="tdleft grey">transition</td>
<td class="tdleft grey">changes in venue type</td>
</tr>
</tbody>
</table>
</figure>
<figure class="split" id="b_9781450384827-006_tab_007">
<figcaption><p class="tabcaption"><span class="tabspace">Table 6.7:</span><b>Selected list of life events. Category (a) shows life events derived from sensor fusion and category (b) shows life events results from smartphone raw context data</b></p></figcaption>
<table class="chtable">
<thead>
<tr>
<th class="thleft"><b>Category</b></th>
<th class="thleft"><b>Method</b></th>
<th class="thleft"><b>Life events</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tdleft">(a)</td>
<td class="tdleft">Context fusion with FCA</td>
<td class="tdleft">Studying, sleeping, vehicle transportation, dining, attending class, walking, running, cycling, exercise, leaving home, arriving home</td>
</tr>
<tr>
<td class="tdleft grey">(b)</td>
<td class="tdleft grey">Raw context</td>
<td class="tdleft grey">Interacting with phone, surfing web, social networking, checking email, sending SMS, phone call, watching video, Skype call</td>
</tr>
</tbody>
</table>
</figure>
<p class="txi"><a id="page_104"/>Considering Figure <a href="#b_9781450384827-006_fig_022">6.22</a>, suppose we have <i>M</i> data streams <span class="inline-math" id="b_9781450384827-006_ineq_0198"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>D</m:mi><m:msub><m:mi>S</m:mi><m:mn>1</m:mn></m:msub></m:mrow></m:math></span>, <span class="inline-math" id="b_9781450384827-006_ineq_0199"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mi>D</m:mi><m:msub><m:mi>S</m:mi><m:mn>2</m:mn></m:msub></m:mrow><m:mo>,</m:mo><m:mrow><m:mi mathvariant="normal">&#x2026;</m:mi><m:mi>D</m:mi><m:msub><m:mi>S</m:mi><m:mi>M</m:mi></m:msub></m:mrow></m:mrow></m:math></span>, coming from heterogeneous sources of information. These data streams are divided into chunks of equal length called time window <i>T<sub>i</sub></i> . The information obtained from the sensors varies in many respects. Methods to convert data to information and the reliability of information could be entirely different for different sensors. To convert measurements to attributes, complex approaches involving inverse mapping can be used. Thus, we can say that <span class="inline-math" id="b_9781450384827-006_ineq_0200"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>a</m:mi><m:mi>i</m:mi></m:msub><m:mo>=</m:mo><m:mrow><m:mi>&#x2131;</m:mi><m:mrow><m:mo>(</m:mo><m:msub><m:mi>m</m:mi><m:mi>i</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:mrow></m:math></span>, where <i>a<sub>i</sub></i> is the attribute derived from a measurement <i>m<sub>i</sub></i> using the function <i>&#x2131;</i> for this attribute within a specific time window <i>T<sub>i</sub></i>. The functions that are utilized to convert measurements to attributes could be a simple mapping or an extremely complex machine learning model. The following are some examples of these functions:</p>
<p class="bullet1"><span class="bspace">&#x25CF;</span><a id="page_105"/><b>Mathematical and statistical techniques</b>: Extract basic signal information from raw sensor data, such as mean, variance, standard deviation, median, maximum, minimum, signal correlation and correlation-coefficient, zero-crossing, DC component, spectral energy, entropy, and wavelet analysis. </p>
<p class="bullet"><span class="bspace">&#x25CF;</span><b>Mapping techniques</b>: Invert geo-coding to extract place categories. </p>
<p class="bullet"><span class="bspace">&#x25CF;</span><b>Natural-language processing</b>: Process calendar entries, computer activity logs, and so forth. </p>
<p class="bullet2"><span class="bspace">&#x25CF;</span><b>Machine learning techniques</b>: Include a variety of algorithms using classifiers for activity recognition. Also, it is possible to classify ambient environment by analyzing light sensor measurements, Wi-Fi access points, or GPS signals. </p>
<p class="txi">Table <a href="#b_9781450384827-006_tab_008">6.8</a> shows some sensor modalities and functions that extract attributes from sensor measurements. This table is indicative and not exhaustive. More sensors and functions can be added based on the specific requirements of an application.</p>
<p class="txi">Recognizing life events from physical activities and surrounding contexts is a challenging problem. Learning-based approaches are good at recognizing low-level physical activities (e.g., walking, jogging, etc.) from a limited number of wearable sensors. However, it is difficult to incorporate domain knowledge in their learning process and extract more high-level semantics related to life events. Moreover, <a id="page_106"/>the collected observational data is noisy and there is not enough <b>labeled</b> data available for training in supervised classification since labeling human activities is a very tedious task. Hence, we propose using formal concept analysis (FCA) for data fusion and life event recognition. Concept lattices are very effective when enough labeled data samples are not accessible for supervised machine learning algorithms but human knowledge is available as an additional source of context. </p>
<figure class="split" id="b_9781450384827-006_tab_008">
<figcaption><p class="tabcaption"><span class="tabspace">Table 6.8:</span><b>Sensor modalities, measurements, and attributes</b></p></figcaption>
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_tab_008.jpg"/></p>
</figure>
<p class="txi">FCA studies how <i>objects</i> can be hierarchically grouped together according to their common <i>attributes</i>. One of the aspects of FCA is the logic behind possible attribute combinations. This logic is <i>contextual</i>, which means we are interested in the logical structure of data and how attributes and objects are contextually related.</p>
<p class="txi">In the next section we explain how FCA can be utilized as an unsupervised learning technique to fuse noisy multimodal data and assign an event tag to each 5-minute interval in time series data. In the second pass, these 5-minute intervals are merged based on their event label and the resulting event stream is fed as an input to the pattern recognition module. </p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_005_s_002_s_005">6.5.2.5</span>Formal Concept Analysis</h4>
<p class="tx">FCA was introduced by <a href="bib.xhtml#b_9781450384827_ref_055">Ganter and Wille</a> [<a href="bib.xhtml#b_9781450384827_ref_055">2012</a>] in 1982. FCA is a way of deriving partially ordered set (poset) from pairs of objects and attributes. With all possible poset of pairs, it builds a concept lattice, which is a graphical representation of the partially ordered knowledge, to find the most similar structure to an input pair. Therefore, FCA does not need to use any statistical calculations but rather uses the structural similarities to produce results, even under uncertainty.</p>
<p class="txi">The theoretical foundation of concept lattice relies on the mathematical lattice theory [<a href="bib.xhtml#b_9781450384827_ref_018">Birkhoff 1948</a>]. Here we only mention some of the high level concepts about lattice construction. Interested readers can refer to a comprehensive article by <a href="bib.xhtml#b_9781450384827_ref_056">Ganter et al.</a> [<a href="bib.xhtml#b_9781450384827_ref_056">2003</a>] about the methods and applications of FCA in computer science.</p>
<div class="split" id="b_9781450384827-006_stat_013">
<p class="statementcaption"><span class="statespace">Definition 6.13</span>A formal context is defined by a triple (<i>G</i>, <i>M</i>, <i>R</i>), where <i>G</i> and <i>M</i> are two sets, and <i>R</i> is the relation between them. The elements of <i>G</i> are called objects while the elements of <i>M</i> are called attributes.</p>
</div>
<p class="tx">The simplest format for writing a formal context is a table with one row for each object and one column for each attribute. The crosses in the table highlights the relationship <i>R</i> between <i>G</i> and <i>M</i>, which means an object verifies an attribute. For example, Figure <a href="#b_9781450384827-006_fig_024">6.24</a> represents a context in the form of a cross table. <i>G</i> (<i>o</i><sub>1</sub>, <i>o</i><sub>2</sub>, <i>o</i><sub>3</sub>, <i>o</i><sub>4</sub>, <i>o</i><sub>5</sub>, <i>o</i><sub>6</sub>, <i>o</i><sub>7</sub>) is the object set and <i>M</i>(<i>a</i><sub>1</sub>, <i>a</i><sub>2</sub>, <i>a</i><sub>3</sub>, <i>a</i><sub>4</sub>, <i>a</i><sub>5</sub>, <i>a</i><sub>6</sub>, <i>a</i><sub>7</sub>, <i>a</i><sub>8</sub>, <i>a</i><sub>9</sub>) is the attribute set.</p>
<figure class="split" id="b_9781450384827-006_fig_024">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_024.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.24</span>An example of context (<i>G, M, R</i>) and its equivalent concept lattice. (a) Sample cross table defining the relation between a set of objects and attributes. (b) Concept lattice derived from cross table by applying the NextClosure algorithm.</p></figcaption>
</figure>
<p class="txi"><a id="page_107"/>To map FCA definitions to life event recognition problems, we consider life events as objects and sensor measurements as attributes. Table <a href="#b_9781450384827-006_tab_009">6.9</a> shows the contextual relationships between life events and their common attributes such as time, location, ambient light, activity level involved in the event, and so on. </p>
<figure class="split" id="b_9781450384827-006_tab_009">
<figcaption><p class="tabcaption"><span class="tabspace">Table 6.9:</span><b>Cross table of generalized relationship between life events and their attributes</b></p></figcaption>
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_tab_009.jpg"/></p>
</figure>
<p class="txi"><a id="page_108"/>Many algorithms have been developed for generating concept lattices, for example, NextClosure by Ganter [<a href="bib.xhtml#b_9781450384827_ref_054">Ganter 2010</a>], the Gerhand algorithm [<a href="bib.xhtml#b_9781450384827_ref_133">Oosthuizen 1992</a>], the Nourine algorithm [<a href="bib.xhtml#b_9781450384827_ref_129">Nourine and Raynaud 1999</a>], and the Galois algorithm [<a href="bib.xhtml#b_9781450384827_ref_174">Valtchev et al. 2002</a>]. <a href="bib.xhtml#b_9781450384827_ref_095">Kuznetsov and Obiedkov</a> [<a href="bib.xhtml#b_9781450384827_ref_095">2002</a>] carried out a performance analysis of these algorithms and concluded that the choice of an algorithm for construction of the concept lattice should be based on the properties of input data. </p>
<p class="txi">We apply the NextClosure algorithm to build a comprehensive lattice from our pre-defined cross table (as shown in Figure <a href="#b_9781450384827-006_fig_024">6.24</a>) that captures the relationship between life events and their common attributes. Considering <span class="inline-math" id="b_9781450384827-006_ineq_0201"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo>|</m:mo><m:mi>L</m:mi><m:mo>|</m:mo></m:mrow></m:math></span> = number of life events, and <span class="inline-math" id="b_9781450384827-006_ineq_0202"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo>|</m:mo><m:mi>A</m:mi><m:mo>|</m:mo></m:mrow></m:math></span> = number of attributes, the time complexity of building the lattice is <span class="inline-math" id="b_9781450384827-006_ineq_0203"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>O</m:mi><m:mrow><m:mo>(</m:mo><m:mrow><m:msup><m:mrow><m:mo>|</m:mo><m:mi>L</m:mi><m:mo>|</m:mo></m:mrow><m:mn>2</m:mn></m:msup><m:mo>&#x00D7;</m:mo><m:mrow><m:mo>|</m:mo><m:mi>A</m:mi><m:mo>|</m:mo></m:mrow></m:mrow><m:mo>)</m:mo></m:mrow></m:mrow></m:math></span>.</p>
<p class="txi">Once the lattice is constructed from a pre-defined set of concepts, the next step is to recognize life events using the constructed lattice from observational sensor data. We use a backtracking depth first search algorithm for this purpose. To identify a life event, the system collects all the perceptible context information and feeds them to the lattice. If the context satisfies all the conditions of a life event, then that event is recognized. For example, an incoming life-log information of <span class="inline-math" id="b_9781450384827-006_ineq_0204"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:msub><m:mi>S</m:mi><m:mrow><m:mi>l</m:mi><m:mi>i</m:mi><m:mi>f</m:mi><m:mi>e</m:mi><m:mi>l</m:mi><m:mi>o</m:mi><m:mi>g</m:mi></m:mrow></m:msub></m:math></span> = {00:00 &#x2013; 03:59, week, standing_still, sedentary, home, enviornmental_light_low, media_false, app_no_use, photo_no_use, sound bell, call_no_calling} will navigate the concept lattice by following the backtracking algorithm and the <i>sleeping</i> life event is recognized.</p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_005_s_002_s_006">6.5.2.6</span>Co-occurrence Behavior Patterns</h4>
<p class="tx">We define co-occurrence behavior patterns that encode temporal and structural relationships between life events. There are two types of co-occurrence between events: </p>
<p class="tx1"><b>Sequential co-occurrence</b>:&#x2002;For a pair of events <i>E<sub>i</sub></i> and <i>E<sub>j</sub></i>, if <i>E<sub>j</sub></i> usually occurs after <i>E<sub>i</sub></i> (within a specific time lag <span class="inline-math" id="b_9781450384827-006_ineq_0205"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:math></span>), these two events are considered to be co-occurring. For Objective Self application we represent sequential co-occurrence behavior as an association rule <span class="inline-math" id="b_9781450384827-006_ineq_0206"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub></m:mrow></m:math></span> that reads <i>E<sub>i</sub></i> is <i>followed by E<sub>j</sub> within</i> <span class="inline-math" id="b_9781450384827-006_ineq_0207"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:math></span>. For example <span class="inline-math" id="b_9781450384827-006_ineq_0208"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mi>V</m:mi><m:mi>e</m:mi><m:mi>h</m:mi><m:mi>i</m:mi><m:mi>c</m:mi><m:mi>l</m:mi><m:mi>e</m:mi><m:mi>C</m:mi><m:mi>o</m:mi><m:mi>m</m:mi><m:mi>m</m:mi><m:mi>u</m:mi><m:mi>t</m:mi><m:mi>i</m:mi><m:mi>n</m:mi><m:mi>g</m:mi></m:mrow><m:mover accent="true"><m:mo>&#x2192;</m:mo><m:mrow><m:mn>1</m:mn><m:mi>h</m:mi><m:mi>o</m:mi><m:mi>u</m:mi><m:mi>r</m:mi></m:mrow></m:mover><m:mrow><m:mi>M</m:mi><m:mi>e</m:mi><m:mi>e</m:mi><m:mi>t</m:mi><m:mi>i</m:mi><m:mi>n</m:mi><m:mi>g</m:mi></m:mrow></m:mrow></m:math></span> means that within an hour of commuting with a car the person attends a meeting.</p>
<p class="txi">The <i>confidence</i> of a size-2 pattern is defined as: </p>
<p class="display1"><disp-formula id="b_9781450384827-006_uneq_992">
<m:math display="block" xmlns:m="http://www.w3.org/1998/Math/MathML" alttext="" altimg="../images/b_9781450384827-006_eq_0013.png"><m:mrow><m:mi>C</m:mi><m:mi>o</m:mi><m:mi>n</m:mi><m:mi>f</m:mi><m:mi>i</m:mi><m:mi>d</m:mi><m:mi>e</m:mi><m:mi>n</m:mi><m:mi>c</m:mi><m:mi>e</m:mi><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub><m:mo>)</m:mo></m:mrow><m:mo>=</m:mo><m:mfrac><m:mrow><m:mi>C</m:mi><m:mi>o</m:mi><m:mi>u</m:mi><m:mi>n</m:mi><m:mi>t</m:mi><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mrow><m:mi>C</m:mi><m:mi>o</m:mi><m:mi>u</m:mi><m:mi>n</m:mi><m:mi>t</m:mi><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:mfrac></m:mrow></m:math>
</disp-formula></p>
<p class="tx1"><a id="page_109"/>The confidence score of a sequential pattern means: from all the time that the first event <span class="inline-math" id="b_9781450384827-006_ineq_0209"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:math></span> occurs, how many times was it followed by the second event <span class="inline-math" id="b_9781450384827-006_ineq_0210"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:math></span> within <span class="inline-math" id="b_9781450384827-006_ineq_0211"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:math></span>.</p>
<p class="tx1"><b>Concurrent co-occurrence</b>:&#x2002;Two events are considered co-occurring if they have a temporal overlap. Concurrent co-occurrence pattern is represented as <span class="inline-math" id="b_9781450384827-006_ineq_0212"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mpadded><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub></m:mpadded><m:mo>&#x22A5;&#x22A5;</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub></m:mrow></m:math></span> and reads <i>E<sub>i</sub></i> happens <i>while E<sub>j</sub></i>. For example <span class="inline-math" id="b_9781450384827-006_ineq_0213"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi>C</m:mi><m:mi>h</m:mi><m:mi>e</m:mi><m:mi>c</m:mi><m:mi>k</m:mi><m:mi>i</m:mi><m:mi>n</m:mi><m:mi>g</m:mi><m:mi>E</m:mi><m:mi>m</m:mi><m:mi>a</m:mi><m:mi>i</m:mi><m:mpadded><m:mi>l</m:mi></m:mpadded><m:mo>&#x22A5;&#x22A5;</m:mo><m:mi>M</m:mi><m:mi>e</m:mi><m:mi>e</m:mi><m:mi>t</m:mi><m:mi>i</m:mi><m:mi>n</m:mi><m:mi>g</m:mi></m:mrow></m:math></span> means the user is checking her email while attending a meeting. </p>
<p class="txi">The <i>confidence</i> of this pattern is defined as:</p>
<p class="display1"><disp-formula id="b_9781450384827-006_uneq_991">
<m:math display="block" xmlns:m="http://www.w3.org/1998/Math/MathML" alttext="" altimg="../images/b_9781450384827-006_eq_0014.png"><m:mrow><m:mi>C</m:mi><m:mi>o</m:mi><m:mi>n</m:mi><m:mi>f</m:mi><m:mi>i</m:mi><m:mi>d</m:mi><m:mi>e</m:mi><m:mi>n</m:mi><m:mi>c</m:mi><m:mi>e</m:mi><m:mrow><m:mo>(</m:mo><m:mpadded><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub></m:mpadded><m:mo>&#x22A5;&#x22A5;</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub><m:mo>)</m:mo></m:mrow><m:mo>=</m:mo><m:mfrac><m:mrow><m:mi>C</m:mi><m:mi>o</m:mi><m:mi>u</m:mi><m:mi>n</m:mi><m:mi>t</m:mi><m:mrow><m:mo>(</m:mo><m:mpadded><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub></m:mpadded><m:mo>&#x22A5;&#x22A5;</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mrow><m:mfrac><m:mn>1</m:mn><m:mn>2</m:mn></m:mfrac><m:mrow><m:mo>(</m:mo><m:mrow><m:mrow><m:mi>C</m:mi><m:mi>o</m:mi><m:mi>u</m:mi><m:mi>n</m:mi><m:mi>t</m:mi><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow><m:mo>+</m:mo><m:mrow><m:mi>C</m:mi><m:mi>o</m:mi><m:mi>u</m:mi><m:mi>n</m:mi><m:mi>t</m:mi><m:mrow><m:mo>(</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub><m:mo>)</m:mo></m:mrow></m:mrow></m:mrow><m:mo>)</m:mo></m:mrow></m:mrow></m:mfrac></m:mrow></m:math>
</disp-formula></p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_005_s_002_s_007">6.5.2.7</span>Processing Co-occurrence Patterns</h4>
<p class="tx">For data-driven co-occurrence analysis we implemented an algorithm that process multiple patterns with only one pass through the data. Life events create an event stream <span class="inline-math" id="b_9781450384827-006_ineq_0214"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mi>E</m:mi><m:msup><m:mi>S</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msup></m:mrow><m:mo>=</m:mo><m:mrow><m:mo>{</m:mo><m:msubsup><m:mi>e</m:mi><m:mn>1</m:mn><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup><m:mo>,</m:mo><m:msubsup><m:mi>e</m:mi><m:mn>2</m:mn><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup><m:mo>,</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo>,</m:mo><m:msubsup><m:mi>e</m:mi><m:mi>N</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup><m:mo>}</m:mo></m:mrow></m:mrow></m:math></span>, where each life event <span class="inline-math" id="b_9781450384827-006_ineq_0215"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msubsup><m:mi>e</m:mi><m:mi>k</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup><m:mo>&#x2208;</m:mo><m:mrow><m:mo>{</m:mo><m:mi>p</m:mi><m:mi>E</m:mi><m:mo>,</m:mo><m:mi>i</m:mi><m:mi>E</m:mi><m:mo>,</m:mo><m:mi>s</m:mi><m:mi>E</m:mi><m:mo>}</m:mo></m:mrow><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>&#x2264;</m:mo><m:mi>k</m:mi><m:mo>&#x2264;</m:mo><m:mi>N</m:mi><m:mo>)</m:mo></m:mrow></m:mrow></m:math></span>, and <i>N</i> is the number of life event types in the application. We also have an environmental event stream <span class="inline-math" id="b_9781450384827-006_ineq_0216"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mi>E</m:mi><m:msup><m:mi>S</m:mi><m:mrow><m:mo>(</m:mo><m:mn>2</m:mn><m:mo>)</m:mo></m:mrow></m:msup></m:mrow><m:mo>=</m:mo><m:mrow><m:mo>{</m:mo><m:msubsup><m:mi>e</m:mi><m:mn>1</m:mn><m:mrow><m:mo>(</m:mo><m:mn>2</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup><m:mo>,</m:mo><m:msubsup><m:mi>e</m:mi><m:mn>2</m:mn><m:mrow><m:mo>(</m:mo><m:mn>2</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup><m:mo>,</m:mo><m:mi mathvariant="normal">&#x2026;</m:mi><m:mo>,</m:mo><m:msubsup><m:mi>e</m:mi><m:mi>M</m:mi><m:mrow><m:mo>(</m:mo><m:mn>2</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup><m:mo>}</m:mo></m:mrow></m:mrow></m:math></span>, where each environmental event <span class="inline-math" id="b_9781450384827-006_ineq_0217"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msubsup><m:mi>e</m:mi><m:mi>k</m:mi><m:mrow><m:mo>(</m:mo><m:mn>2</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup><m:mo>&#x2208;</m:mo><m:mrow><m:mo>{</m:mo><m:mi>p</m:mi><m:mi>E</m:mi><m:mo>,</m:mo><m:mi>i</m:mi><m:mi>E</m:mi><m:mo>,</m:mo><m:mi>s</m:mi><m:mi>E</m:mi><m:mo>}</m:mo></m:mrow><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>&#x2264;</m:mo><m:mi>k</m:mi><m:mo>&#x2264;</m:mo><m:mi>M</m:mi><m:mo>)</m:mo></m:mrow></m:mrow></m:math></span> can be a point event or an interval event to a capture state and state transition in the environmental data. We create a multi-event stream <span class="inline-math" id="b_9781450384827-006_ineq_0218"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mi>E</m:mi><m:mi>S</m:mi></m:mrow><m:mo>=</m:mo><m:mrow><m:mo>{</m:mo><m:mrow><m:mi>E</m:mi><m:msup><m:mi>S</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msup></m:mrow><m:mo>,</m:mo><m:mrow><m:mi>E</m:mi><m:msup><m:mi>S</m:mi><m:mrow><m:mo>(</m:mo><m:mn>2</m:mn><m:mo>)</m:mo></m:mrow></m:msup></m:mrow><m:mo>}</m:mo></m:mrow></m:mrow></m:math></span> to serialize all event types in the system.</p>
<p class="txi">With <i>N</i> life events, <i>N</i><sup>2</sup> patterns need to be analyzed to compute the co-occurrence value between each pair of life events. Considering different possible time lags, the total number of potential candidate patterns increase exponentially. Each candidate pattern is derived as follow:</p>
<p class="txi"><span class="inline-math" id="b_9781450384827-006_ineq_0219"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mo>&#x2200;</m:mo><m:msubsup><m:mi>e</m:mi><m:mi>i</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup></m:mrow><m:mo>,</m:mo><m:msubsup><m:mi>e</m:mi><m:mi>j</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup></m:mrow></m:math></span> such that <span class="inline-math" id="b_9781450384827-006_ineq_0220"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:msubsup><m:mi>e</m:mi><m:mi>i</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup><m:mo>,</m:mo><m:msubsup><m:mi>e</m:mi><m:mi>j</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup></m:mrow><m:mo>&#x2208;</m:mo><m:mrow><m:mi>E</m:mi><m:msup><m:mi>S</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msup></m:mrow></m:mrow></m:math></span>, sequential candidate pattern <span class="inline-math" id="b_9781450384827-006_ineq_0221"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mo>=</m:mo><m:msubsup><m:mi>e</m:mi><m:mi>i</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover><m:msubsup><m:mi>e</m:mi><m:mi>j</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup></m:mrow></m:math></span>, and concurrent candidate pattern <span class="inline-math" id="b_9781450384827-006_ineq_0222"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mo>&#x2032;</m:mo><m:mo>=</m:mo><m:mpadded><m:msubsup><m:mi>e</m:mi><m:mi>i</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup></m:mpadded><m:mo>&#x22A5;&#x22A5;</m:mo><m:msubsup><m:mi>e</m:mi><m:mi>j</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup></m:mrow></m:math></span>.</p>
<p class="txi">Given <i>M</i> environmental events, <i>N</i> &#x00D7; <i>M</i> patterns need to be analyzed to compute co-occurrence between a life event and an environmental event. In this case, the candidate patterns are derived as:</p>
<p class="txi"><span class="inline-math" id="b_9781450384827-006_ineq_0223"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mo>&#x2200;</m:mo><m:msubsup><m:mi>e</m:mi><m:mi>i</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup></m:mrow><m:mo>,</m:mo><m:msubsup><m:mi>e</m:mi><m:mi>j</m:mi><m:mrow><m:mo>(</m:mo><m:mn>2</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup></m:mrow></m:math></span> such that <span class="inline-math" id="b_9781450384827-006_ineq_0224"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:msubsup><m:mi>e</m:mi><m:mi>i</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup><m:mo>&#x2208;</m:mo><m:mrow><m:mi>E</m:mi><m:msup><m:mi>S</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msup></m:mrow></m:mrow><m:mo>,</m:mo><m:mrow><m:msubsup><m:mi>e</m:mi><m:mi>j</m:mi><m:mrow><m:mo>(</m:mo><m:mn>2</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup><m:mo>&#x2208;</m:mo><m:mrow><m:mi>E</m:mi><m:msup><m:mi>S</m:mi><m:mrow><m:mo>(</m:mo><m:mn>2</m:mn><m:mo>)</m:mo></m:mrow></m:msup></m:mrow></m:mrow></m:mrow></m:math></span>, sequential candidate pattern <span class="inline-math" id="b_9781450384827-006_ineq_0225"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mo>=</m:mo><m:msubsup><m:mi>e</m:mi><m:mi>i</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover><m:msubsup><m:mi>e</m:mi><m:mi>j</m:mi><m:mrow><m:mo>(</m:mo><m:mn>2</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup></m:mrow></m:math></span>, sequential candidate pattern <span class="inline-math" id="b_9781450384827-006_ineq_0226"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mo>&#x2032;</m:mo><m:mo>=</m:mo><m:msubsup><m:mi>e</m:mi><m:mi>j</m:mi><m:mrow><m:mo>(</m:mo><m:mn>2</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover><m:msubsup><m:mi>e</m:mi><m:mi>i</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup></m:mrow></m:math></span>, and concurrent candidate pattern <span class="inline-math" id="b_9781450384827-006_ineq_0227"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x03C1;</m:mi><m:mo>&#x2032;</m:mo><m:mo>&#x2032;</m:mo><m:mo>=</m:mo><m:mpadded><m:msubsup><m:mi>e</m:mi><m:mi>i</m:mi><m:mrow><m:mo>(</m:mo><m:mn>1</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup></m:mpadded><m:mo>&#x22A5;&#x22A5;</m:mo><m:msubsup><m:mi>e</m:mi><m:mi>j</m:mi><m:mrow><m:mo>(</m:mo><m:mn>2</m:mn><m:mo>)</m:mo></m:mrow></m:msubsup></m:mrow></m:math></span>.</p>
<p class="txi">Table <a href="#b_9781450384827-006_tab_010">6.10</a> shows some samples of the sequential and concurrent candidate patterns. We analyzed different time lags with multiple temporal resolutions from <i>minutes</i> and <i>hours</i> to <i>days</i> and <i>weeks</i>. As mentioned in Table <a href="#b_9781450384827-006_tab_007">6.7</a>, life events of category (a) can only happen in parallel with life events of category (b).</p>
<p class="txi"><a id="page_110"/></p>
<figure class="split" id="b_9781450384827-006_tab_010">
<figcaption><p class="tabcaption"><span class="tabspace">Table 6.10:</span><b>Sample sequential and concurrent candidate patterns</b></p></figcaption>
<table class="chtable">
<thead>
<tr>
<th class="thleft"><b>Sequential candidate pattern</b></th>
<th class="thleft"><b>Concurrent candidate pattern</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tdleft">Studying <span class="inline-math" id="b_9781450384827-006_ineq_0228"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover></m:math></span> Vehicle Transportation</td>
<td class="tdleft">SMS &#x22A5;&#x2063;&#x22A5; Attending Class</td>
</tr>
<tr>
<td class="tdleft grey">Arriving Home <span class="inline-math" id="b_9781450384827-006_ineq_0229"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover></m:math></span> Sleeping</td>
<td class="tdleft grey">Web Surfing &#x22A5;&#x2063;&#x22A5; Attending Class</td>
</tr>
<tr>
<td class="tdleft">Vehicle Transportation <span class="inline-math" id="b_9781450384827-006_ineq_0230"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover></m:math></span> Attending Class</td>
<td class="tdleft">Interacting with Phone &#x22A5;&#x2063;&#x22A5; Studying</td>
</tr>
<tr>
<td class="tdleft grey">Vehicle Transportation <span class="inline-math" id="b_9781450384827-006_ineq_0231"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover></m:math></span> Dining</td>
<td class="tdleft grey">Dining &#x22A5;&#x2063;&#x22A5; Social Networking</td>
</tr>
<tr>
<td class="tdleft">Dining <span class="inline-math" id="b_9781450384827-006_ineq_0232"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover></m:math></span> Arriving Home</td>
<td class="tdleft">Interacting with Phone &#x22A5;&#x2063;&#x22A5; Exercise</td>
</tr>
<tr>
<td class="tdleft grey">Leaving Home <span class="inline-math" id="b_9781450384827-006_ineq_0233"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover></m:math></span> Exercise</td>
<td class="tdleft grey">Social Networking &#x22A5;&#x2063;&#x22A5; Attending Class</td>
</tr>
<tr>
<td class="tdleft">Leaving Home <span class="inline-math" id="b_9781450384827-006_ineq_0234"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover></m:math></span> Walking</td>
<td class="tdleft">Walking &#x22A5;&#x2063;&#x22A5; Phone Call</td>
</tr>
<tr>
<td class="tdleft grey">Leaving Home <span class="inline-math" id="b_9781450384827-006_ineq_0235"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover></m:math></span> Cycling</td>
<td class="tdleft grey">Vehicle Transportation &#x22A5;&#x2063;&#x22A5; SMS</td>
</tr>
<tr>
<td class="tdleft">Cycling <span class="inline-math" id="b_9781450384827-006_ineq_0236"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover></m:math></span> Attending Class</td>
<td class="tdleft">Activity_level Low &#x22A5;&#x2063;&#x22A5; Temperature stays_high</td>
</tr>
<tr>
<td class="tdleft grey">Vehicle Transportation <span class="inline-math" id="b_9781450384827-006_ineq_0237"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover></m:math></span> Temperature stays_high</td>
<td class="tdleft grey">Vehicle Transportation &#x22A5;&#x2063;&#x22A5; Pollution stays_high</td>
</tr>
</tbody>
</table>
</figure>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_005_s_002_s_008">6.5.2.8</span>Data Collection</h4>
<p class="tx">In the previous sections we explained how multiple sources of information (e.g., location, motion, etc.) can be semantically fused to recognize life events and how explanatory models can be built by finding significant sequential or concurrent co-occurrence patterns. In this section we evaluate the applicability of EventMiner in understanding the behavior of smartphone-using individuals. We developed an Android-based lifelog app that collects data continuously without user intervention. Table <a href="#b_9781450384827-006_tab_006">6.6</a> demonstrates the type of sensors utilized in this study and the information derived from them. All participants in the study were voluntarily recruited from a mobile programming class, a computer science programming class offered to both undergraduate and graduate students. A total of 65 students enrolled in the class and 31 joined the study. As the quarter progressed, eight users dropped out of the study. Of the 23 remaining users, 12 were undergraduate and 11 were graduate students. Users used their own Android devices to run the lifelog app and carried the phones with them throughout the day. Data were collected without any user interaction and uploaded to the cloud daily. The data collection phase lasted for four weeks for the class. However, data continued to be collected from four users for another month. </p>
<p class="txi">GPS tracking generates large sets of geographical data that need to be transformed to be useful for life event recognition and behavior analysis. We are <a id="page_111"/>interested in the type of location/venue that a user visits rather than its coordinates. The reverse geo-coding is done by using Google Places API. In other words, the system distinguishes between locations only if it helps determine what the user is doing. The following venue categories are considered: <i>arts and entertainment</i>, <i>collage and university</i>, <i>academic building</i>, <i>gym</i>, <i>nightlife spot</i>, <i>outdoors and recreation</i>, <i>store</i>, <i>mall</i>, <i>shop</i>, <i>food</i>, <i>cafe</i>, and <i>restaurant</i>. Also, the app stores the user&#x2019;s <i>home</i> address. Figure <a href="#b_9781450384827-006_fig_025">6.25</a> shows location distribution for seven users based on the percentage of time they spent at each location. The amount of time spent at different places reveals a lot of information about a user. For instance, Figure <a href="#b_9781450384827-006_fig_025">6.25</a> suggests that user 1 spent majority of her time at home while user 3 spent considerable time at school. User 2 visits the gym frequently while food places and malls are of interest for users 7 and 4, respectively.</p>
<p class="txi">Next, we visualize sample co-occurrence patterns generated from the lifelogs of over 23 users with the goal of finding interesting behavior patterns at individual as well as public/group levels. </p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_005_s_002_s_009">6.5.2.9</span>Sequential Co-occurrence: Commute Behavior and Activity Trends</h4>
<p class="tx">The objective of this experiment is to find patterns of commute behavior from life events data. By generating sequential co-occurrence matrices with different temporal offsets, co-occurrences between <i>leaving home</i>, <i>arriving home</i>, and different commute events such as <i>walking</i>, <i>vehicle commute</i>, and <i>cycling</i> are studied. <a id="page_112"/>Figure <a href="#b_9781450384827-006_fig_026">6.26</a> demonstrates the results for three different users. Figure <a href="#b_9781450384827-006_fig_026">6.26</a>(a) indicates commute pattern <span class="inline-math" id="b_9781450384827-006_ineq_0239"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mrow><m:mi>L</m:mi><m:mi>e</m:mi><m:mi>a</m:mi><m:mi>v</m:mi><m:mi>i</m:mi><m:mi>n</m:mi><m:mi>g</m:mi><m:mi>H</m:mi><m:mi>o</m:mi><m:mi>m</m:mi><m:mi>e</m:mi></m:mrow><m:mover accent="true"><m:mo>&#x2192;</m:mo><m:mrow><m:mo>[</m:mo><m:mrow><m:mpadded><m:mn>15</m:mn></m:mpadded><m:mi>m</m:mi><m:mi>i</m:mi><m:mi>n</m:mi><m:mi>s</m:mi></m:mrow><m:mo>]</m:mo></m:mrow></m:mover><m:mrow><m:mi>V</m:mi><m:mi>e</m:mi><m:mi>h</m:mi><m:mi>i</m:mi><m:mi>c</m:mi><m:mi>l</m:mi><m:mi>e</m:mi><m:mi>C</m:mi><m:mi>o</m:mi><m:mi>m</m:mi><m:mi>m</m:mi><m:mi>u</m:mi><m:mi>t</m:mi><m:mi>e</m:mi></m:mrow></m:mrow></m:math></span> with a confidence value of 0.87, which means with 87% probability the user drove a vehicle within 15 minutes after leaving home. By increasing the temporal offset to one hour, the probability reaches 98%. Leaving home followed by cycling, and cycling <a id="page_113"/>followed by attending a class are commute patterns observable for another user in Figures <a href="#b_9781450384827-006_fig_026">6.26</a>(b) and <a href="#b_9781450384827-006_fig_026">6.26</a>(c). Finally, Figure <a href="#b_9781450384827-006_fig_026">6.26</a>(d) shows walking commute behavior to/from school for the third user.</p>
<figure class="split" id="b_9781450384827-006_fig_025">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_025.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.25</span>Percentage of hours multiple subjects spent at different locations.</p></figcaption>
</figure>
<figure class="split" id="b_9781450384827-006_fig_026">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_026.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.26</span>Sequential co-occurrence matrices. Unknown events are shown with a red box surrounding them. Each cell shows the confidence value of pattern <span class="inline-math" id="b_9781450384827-006_ineq_0238"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub></m:mrow></m:math></span>.</p></figcaption>
</figure>
<p class="txi">Since the study was conducted for 4 to 8 weeks, we could analyze the change of commute behaviors and activity levels in some participants. Figures <a href="#b_9781450384827-006_fig_027">6.27</a> and <a href="#b_9781450384827-006_fig_028">6.28</a> illustrate the sequential co-occurrence frequency of multiple patterns for two different users. The occurrence frequency of a pattern accumulates over time. Therefore, a sharp increasing slope within a limited time interval in the line graph indicates that the pattern was repeated often during that time. In addition, an almost flat line in the graph suggests the pattern did not occur frequently. Figure <a href="#b_9781450384827-006_fig_027">6.27</a> implies that for one participant activity level trend and vehicle commute trend did not show any changes between subsequent weeks. However, a clear decrease in using a bicycle for commute purposes is visible in Figure <a href="#b_9781450384827-006_fig_028">6.28</a> during the third and fourth weeks, which results in a decrease in activity level. </p>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_005_s_002_s_010">6.5.2.10</span>Concurrent Co-occurrence: Multitasking Behavior</h4>
<p class="tx">Concurrent co-occurrence examines the co-occurrence relationship between events that have temporally overlapped. Some of the life events might happen in parallel. For instance dining might be concurrent with sending a text or making a phone call. In this experiment we used concurrent co-occurrence matrix to investigate users&#x2019; interactions with their phones <b>while</b> they are engaged in other activities. <a id="page_114"/>Figure <a href="#b_9781450384827-006_fig_029">6.29</a> displays an interesting result for one of the users. There is a clear co-occurrence between surfing the web, checking emails, and using social networking apps while the person is attending class. This analysis indicates multitasking in the classroom and suggests the user was bored or distracted during her classes. </p>
<figure class="split" id="b_9781450384827-006_fig_027">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_027.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.27</span>Vehicle commute and activity-level patterns. No major change is observed in the commute behavior.</p></figcaption>
</figure>
<figure class="split" id="b_9781450384827-006_fig_028">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_028.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.28</span>Vehicle commute and activity-level patterns. Commute behavior has changed during the second half of the study.</p></figcaption>
</figure>
<figure class="split" id="b_9781450384827-006_fig_029">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_029.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.29</span>Concurrent co-occurrence matrix visualizing co-occurrence of life events. For a pair of events, each cell shows the confidence value of pattern <span class="inline-math" id="b_9781450384827-006_ineq_0240"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mpadded><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub></m:mpadded><m:mo>&#x22A5;&#x22A5;</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub></m:mrow></m:math></span>.</p></figcaption>
</figure>
<h4 class="h4"><a id="page_115"/><span class="h4space" id="b_9781450384827-006_s_005_s_002_s_011">6.5.2.11</span>Patterns Across a Group of Users</h4>
<p class="tx">In the third experiment, we analyzed commonly occurring co-occurrence patterns across all users. Figure <a href="#b_9781450384827-006_fig_030">6.30</a> shows common sequential co-occurrence patterns across multiple users. Each cell indicates the percentage of users with a specific pattern in their personicle. We only show those patterns with at least 60confidence. Figure <a href="#b_9781450384827-006_fig_030">6.30</a>(a) shows sequential co-occurrence patterns (event types in <i>x</i> <a id="page_116"/>axes follow event types in <i>y</i> axes within an hour). The most frequent pattern that occurs in 78% of users is <i>phone call followed by SMS within an hour</i>. Other common patterns are: <i>attending class followed by studying</i>, <i>using phone followed by sleeping</i>, and <i>vehicle commute followed by arriving home</i>. Figure <a href="#b_9781450384827-006_fig_030">6.30</a>(b) shows concurrent co-occurrence patterns. The most frequent pattern in this case is <i>using social networking apps while dining</i>. The next common patterns are: <i>checking email while studying</i> and <i>sending text while studying</i>.</p>
<figure class="split" id="b_9781450384827-006_fig_030">
<p class="figure-img"><img role="presentation" alt="figure" src="../images/b_9781450384827-006_fig_030.jpg"/></p>
<figcaption><p class="figcaption"><span class="figspace">Figure 6.30</span>Common co-occurrence patterns. For each pattern, we show the percentage of users the pattern occurs in. (a) Sequential co-occurrence patterns <span class="inline-math" id="b_9781450384827-006_ineq_0241"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:mover><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub></m:mrow></m:math></span> across all users, where <span class="inline-math" id="b_9781450384827-006_ineq_0242"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mi mathvariant="normal">&#x0394;</m:mi><m:mi>t</m:mi></m:mrow></m:math></span>=1 hour. (b) Concurrent co-occurrence patterns <span class="inline-math" id="b_9781450384827-006_ineq_0243"><m:math alttext="alt_math" display="inline" xmlns:m="http://www.w3.org/1998/Math/MathML"><m:mrow><m:mpadded><m:msub><m:mi>E</m:mi><m:mi>i</m:mi></m:msub></m:mpadded><m:mo>&#x22A5;&#x22A5;</m:mo><m:msub><m:mi>E</m:mi><m:mi>j</m:mi></m:msub></m:mrow></m:math></span>.</p></figcaption> 
</figure>
<h4 class="h4"><span class="h4space" id="b_9781450384827-006_s_005_s_002_s_012">6.5.2.12</span>The Effect of Environmental Factors on Behavior</h4>
<p class="tx">Exposure to some air pollutants has consequences for human health and life expectancy [<a href="bib.xhtml#b_9781450384827_ref_154">Russell and Brunekreef 2009</a>]. Exposure to fine particulate matter is particularly dangerous since these small particles penetrate deep into the lungs and may also affect other aspects of an individual&#x2019;s life. In the last experiment we aim to examine the associations between certain environmental conditions and human behavior. The main question is whether short-term exposure to PM2.5 or certain climate conditions has any bearing on an individual&#x2019;s physical activity, and does it cause any deviation in daily routines?</p>
<p class="txi">By tracking users&#x2019; locations, the closest pollution and weather stations to a user&#x2019;s current location are extracted. Ambient temperature and PM2.5 data are collected from those stations. Unified event streams are then constructed by abstracting trends of time series data using the SAX algorithm [<a href="bib.xhtml#b_9781450384827_ref_106">Lin et al. 2007</a>] with alphabet of size 3 (a,b,c symbols). For each data stream, seven event types (<i>ab/bc=</i>increase, <i>ac=</i>suddenly increase, <i>ca=</i>suddenly decrease, <i>cb/ba=</i>decrease, <i>aaa=</i>stay low, <i>bbb=</i>medium, <i>ccc=</i>stay high) are defined. After processing sequential co-occurrences and concurrent co-occurrences between life event stream and PM2.5 and temperature event streams, we found a few occurrences of the following patterns for multiple users:</p>
<p class="display1"><disp-formula id="b_9781450384827-006_uneq_990">
<m:math display="block" xmlns:m="http://www.w3.org/1998/Math/MathML" alttext="" altimg="../images/b_9781450384827-006_eq_0015.png"><m:mtable columnspacing="5pt" displaystyle="true" rowspacing="0pt"><m:mtr><m:mtd/><m:mtd columnalign="left"><m:mrow><m:mi>A</m:mi><m:mi>c</m:mi><m:mi>t</m:mi><m:mi>i</m:mi><m:mi>v</m:mi><m:mi>i</m:mi><m:mi>t</m:mi><m:mi>y</m:mi><m:mi>L</m:mi><m:mi>e</m:mi><m:mi>v</m:mi><m:mi>e</m:mi><m:mi>l</m:mi><m:mo>&#x2212;</m:mo><m:mi>s</m:mi><m:mi>t</m:mi><m:mi>a</m:mi><m:mi>y</m:mi><m:mi>s</m:mi><m:mo>&#x2212;</m:mo><m:mi>l</m:mi><m:mi>o</m:mi><m:mpadded><m:mi>w</m:mi></m:mpadded><m:mo>&#x22A5;&#x22A5;</m:mo><m:mi>T</m:mi><m:mi>e</m:mi><m:mi>m</m:mi><m:mi>p</m:mi><m:mi>e</m:mi><m:mi>r</m:mi><m:mi>a</m:mi><m:mi>t</m:mi><m:mi>u</m:mi><m:mi>r</m:mi><m:mi>e</m:mi><m:mo>&#x2212;</m:mo><m:mi>i</m:mi><m:mi>n</m:mi><m:mi>c</m:mi><m:mi>r</m:mi><m:mi>e</m:mi><m:mi>a</m:mi><m:mi>s</m:mi><m:mi>i</m:mi><m:mi>n</m:mi><m:mi>g</m:mi></m:mrow></m:mtd></m:mtr><m:mtr><m:mtd/><m:mtd columnalign="left"><m:mrow><m:mrow><m:mrow><m:mi>P</m:mi><m:mi>M</m:mi><m:mn>2.5</m:mn></m:mrow><m:mo>&#x2212;</m:mo><m:mrow><m:mi>s</m:mi><m:mi>u</m:mi><m:mi>d</m:mi><m:mi>d</m:mi><m:mi>e</m:mi><m:mi>n</m:mi><m:mi>l</m:mi><m:mi>y</m:mi></m:mrow><m:mo>&#x2212;</m:mo><m:mrow><m:mi>i</m:mi><m:mi>n</m:mi><m:mi>c</m:mi><m:mi>r</m:mi><m:mi>e</m:mi><m:mi>a</m:mi><m:mi>s</m:mi><m:mi>e</m:mi><m:mi>s</m:mi></m:mrow></m:mrow><m:mover><m:mo movablelimits="false">&#x27F6;</m:mo><m:mrow><m:mpadded><m:mn>3</m:mn></m:mpadded><m:mi>h</m:mi><m:mi>r</m:mi><m:mi>s</m:mi></m:mrow></m:mover><m:mrow><m:mrow><m:mi>V</m:mi><m:mi>e</m:mi><m:mi>h</m:mi><m:mi>i</m:mi><m:mi>c</m:mi><m:mi>h</m:mi><m:mi>l</m:mi><m:mi>e</m:mi></m:mrow><m:mo>&#x2212;</m:mo><m:mrow><m:mi>c</m:mi><m:mi>o</m:mi><m:mi>m</m:mi><m:mi>m</m:mi><m:mi>u</m:mi><m:mi>t</m:mi><m:mi>e</m:mi></m:mrow></m:mrow></m:mrow></m:mtd></m:mtr><m:mtr><m:mtd/><m:mtd columnalign="left"><m:mrow><m:mi>W</m:mi><m:mi>a</m:mi><m:mi>l</m:mi><m:mi>k</m:mi><m:mi>i</m:mi><m:mi>n</m:mi><m:mpadded><m:mi>g</m:mi></m:mpadded><m:mo>&#x22A5;&#x22A5;</m:mo><m:mi>P</m:mi><m:mi>M</m:mi><m:mn>2.5</m:mn><m:mo>&#x2212;</m:mo><m:mi>s</m:mi><m:mi>t</m:mi><m:mi>a</m:mi><m:mi>y</m:mi><m:mo>&#x2212;</m:mo><m:mi>l</m:mi><m:mi>o</m:mi><m:mi>w</m:mi></m:mrow></m:mtd></m:mtr></m:mtable></m:math>
</disp-formula></p>
<p class="txi">Although the above patterns might be an indication of how users commute or how active they are in different environmental situations, a longitudinal study with longer duration shall be performed to asses more reliable patterns.</p>
</section>
</div>
</body>
</html>
